                      
                                
<br />
<div class="panel-default content-panel">
    <div ng-show="selectedAction==1" class="col-lg-12 zero-padding-left-right-div">
        <div class="clearfix"></div>
        <br />
        <div class="col-lg-12">
            <table class="table table-bordered table-condensed alignTableStyle">
                <tr>
                    <th>NPI Number</th>
                    <th>Name</th>
                    @*<th>Last Name</th>*@
                    <th>Title</th>
                    <th>Specialty</th>
                    <th>IPA</th>
                </tr>
                <tr>
                    <td>{{NPINumber}}</td>
                    <td> {{Firstname}} {{Lastname}}</td>
                    <td>
                        <span ng-repeat="g in Type"><span ng-if="$index > 0">, </span>{{g}}</span>
                        @*<span ng-show="Type.length == 0">Not Available</span>*@
                    </td>
                    <td>
                        <span ng-repeat="s in Specilities"><span ng-if="$index > 0"></span><i ng-if="$index>0">,</i>{{s}}<br /></span>
                        @*<span ng-show="Specilities.length == 0">Not Available</span>*@
                    </td>
                    <td>
                        <span ng-repeat="g in Groups"><span ng-if="$index > 0">, </span>{{g}}</span>
                        @*<span ng-show="Groups.length == 0">Not Available</span>*@
                    </td>
                </tr>
            </table>
        </div>
        <br />
        <div class="col-lg-12 zero-padding-left-right-div" ng-hide="initiateSuccess">
            @*<div class="col-lg-12" ng-show="Groups.length == 0">
                    <i class="data-label" style="color:red">Provider is not a part of any group. Please add Group details in profile !!</i>
                </div>*@
            <div class="col-lg-2">
                <label class="control-label">Select Plan </label>
            </div>

            @*<div class="col-lg-4">
                <select class="form-control input-sm" ng-model="tempObject.PlanId" ng-change="findIsDelegated(tempObject.PlanId)">
                    <option selected disabled hidden value="">Select Plan (not Credentialed yet)</option>
                    <option ng-repeat="p in plans" value="{{p.PlanID}}">{{p.PlanName}}</option>
                </select>

            </div>*@
            <div class="col-lg-4 form-group">            
                <input type="text" class="form-control input-sm" placeholder="Select Plan" name="PlanId" ng-model="tempObject.PlanName" ng-click="searchCumDropDown('PlanType'+$index);tempObject.PlanId=''" data-searchdropdown="searchdropdown" />
                <div class="ProviderTypeSelectAutoList popover fade bottom in" role="tooltip" id="PlanType{{$index}}" style="margin-top:30px">
                    <table class="table table-striped table-bordered table-hover table-condensed">
                        <tbody>
                            <tr ng-repeat="p in plans" ng-click="addIntoPlanDropDown(p,tempObject,'PlanType');findIsDelegated(tempObject.PlanId)" class=" pointer">
                                <td>{{p.PlanName}}</td>
                            </tr>
                            <tr ng-if="plans.length == 0">
                                <td>Plan not found..... </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="col-lg-6" ng-hide="!tempObject.PlanId">
                <label class="control-label">Delegated?</label>
                <div>
                    @foreach (var value in Enum.GetValues(typeof(AHC.CD.Entities.MasterData.Enums.YesNoOption)))
                    {
                        <label class="radio-inline">
                            <input type="radio" ng-model="tempObject.IsDelegatedYesNoOption" value="@value" /> @value.ToString()
                        </label>
                    }
                </div>
            </div>
            @*<div class="col-lg-6" ng-hide="!tempObject.PlanId">
                <input type="checkbox" ng-model="tempObject.IsDelegated" />
                <label class="control-label">Delegated?</label>

            </div>*@
        </div>
        <div class="clearfix"></div>
        <br />
        <div class="col-lg-12 zero-padding-left-right-div">
            <div ng-show="activeMessageDiv=='successfulInitiated'" class="alert alert-success" role="alert">
                <button ng-click="closeAlertMessage('')" class="close"><span>&times;</span></button>
                @*{{Title}} {{Profile.PersonalDetail.Firstname}} {{Profile.PersonalDetail.Lastname}}*@
                {{Firstname}} {{Lastname}} {{messageDesc}}
            </div>
            <div ng-show="activeMessageDiv=='errorInitiated'" class="col-lg-12">
                <div class="alert alert-danger" role="alert">
                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                    <span class="sr-only">Error:</span>
                    <span ng-repeat="err in errorInitiated track by $index">{{err}}</span>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
        <br />
        <div ng-show="initiateSuccess">
            <span class="col-lg-4"><hr /></span>
            <span class="col-lg-4 text-center h4">What would you like to do?</span>
            <span class="col-lg-4"><hr /></span>
        </div>
        <div class="col-lg-12 zero-padding-left-right-div">
            <div class="col-lg-6 text-left"><button class="btn btn-warning btn-sm" ng-click="SearchProviderPanelToggleDown('SearchProviderResultPanel'); tempObject.PlanId = '';"> Back to Search Result</button></div> @*onclick="$('a[href=#SearchResult]').trigger('click');"*@
            <div ng-show="initiateSuccess  && tempObject.IsDelegatedYesNoOption == 'YES'" class="col-lg-6 text-right"><a class="btn btn-success btn-sm" href="@System.Configuration.ConfigurationManager.AppSettings["AppRoot"]/Credentialing/Verification/InitiateNewPSV?profileId={{ProfileID}}&credinfoId={{credinfoId}}"> Perform PSV </a></div>
            <div ng-show="initiateSuccess && tempObject.IsDelegatedYesNoOption == 'NO'" class="col-lg-6 text-right"><a class="btn btn-success btn-sm" href="@System.Configuration.ConfigurationManager.AppSettings["AppRoot"]/Credentialing/CnD/Application/{{credinfoId}}"> View Application </a></div>
            <div ng-hide="initiateSuccess" class="col-lg-6 text-right"><button class="btn btn-primary btn-sm" ng-click="InitiateCredentialing();"> Initiate Credentialing</button></div>
        </div>

        <div class="clearfix"></div>
        <br />
    </div>

    <div ng-show="selectedAction==2||selectedAction==3" class="col-lg-12 zero-padding-left-right-div">
        <div class="clearfix"></div>
        <br />
        <div class="col-lg-12">
            <table class="table table-bordered table-condensed alignTableStyle">
                <tr>
                    <th>NPI Number</th>
                    <th>Name</th>
                    <th>Title</th>
                    <th>Specialty</th>
                    <th>IPA</th>
                    @*<th>Plan</th>*@
                </tr>
                <tr>
                    <td>{{reCredData.Profile.OtherIdentificationNumber.NPINumber}}</td>
                    <td>{{reCredData.Profile.PersonalDetail.FirstName}} {{reCredData.Profile.PersonalDetail.LastName}}</td>

                    <td>
                        <span ng-repeat="title in reCredData.Profile.PersonalDetail.ProviderTitles track by $index"><i ng-if="$index>0">,</i><br ng-if="$index>0" />{{title.ProviderType.Title}}</span>
                       
                    </td>
                    <td>
                        @*<span ng-repeat="s in Specilities"><span ng-if="$index > 0">, </span>{{s}}</span>*@
                        <span ng-repeat="s in reCredData.Profile.SpecialtyDetails track by $index"><i ng-if="$index>0">,</i><br ng-if="$index>0" />{{s.Specialty.Name}}</span>
                    </td>
                    <td>
                        <span ng-show="reCredData.Profile.ContractInfoes.length > 0" ng-repeat="group in reCredData.Profile.ContractInfoes">
                            <span ng-show="group.ContractGroupInfoes.length > 0" ng-repeat="groupName in group.ContractGroupInfoes track by $index">
                                <i ng-if="$index>0">,</i><br ng-if="$index>0" />{{groupName.PracticingGroup.Group.Name}}
                            </span>
                        </span>
                        
                    </td>
                    @*<td>
                        {{reCredData.Plan.PlanName}}
                    </td>*@
                </tr>
            </table>
        </div>
        <br />
        <div class="col-lg-6" ng-show="!initiateSuccess">
            <label class="control-label">Select Plan:</label>
            <div id="BEID">
                <select class="form-control input-sm" data-val="true" data-val-required="Please select Plan" ng-model="PlanList[$index]" ng-change="showPlanListReCred(PlanList[$index])">
                    <option selected disabled hidden value="">-Select-</option>
                    <option ng-repeat="p in PlanList track by $index" value="{{p.PlanID}}">{{p.PlanName}}</option>
                </select>
            </div>
            <span ng-show="isHasError" class="text-danger field-validation-error">
                <span>Please select Plan.</span>
            </span>
        </div><br /><br />
        <div class="clearfix"></div>
        <div ng-show="loadingAjax1" style="margin-top:30px;" class="progress col-lg-12" ng-cloak>
            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                Loading...Please wait...
            </div>
        </div>
        <div class="col-lg-12 zero-padding-left-right-div" id="LoadPlan" ng-show="!initiateSuccess" @*ng-if="LoadedData != null"*@>
            <br />
            <table class="table table-bordered table-striped table-hover">
                <!-- ngInclude: templates.header -->
                <thead>
                    <tr ng-show="CredentialingContractRequests.length>0">
                        <th class="col-lg-2">Business Entity</th>
                        <th class="col-lg-2">Line Of Business</th>
                        <th class="col-lg-2">Specialty</th>
                        <th class="col-lg-3">Location</th>
                        <th class="col-lg-3">Status</th>
                        <th class="col-lg-3">View Application</th>
                        
                        <th class="col-lg-1">Action&nbsp;&nbsp;<input type="checkbox" style="width:20px; height:20px;" ng-checked="selection.length==CredentialingContractRequests.length" ng-model="allItemsSelected" ng-click="selectAll()" ng-disabled="CredentialingContractRequests.length!=SelectAllCheckBox"></th>
                    </tr>
                    @*<tr ng-show="PlanListID && CredentialingContractRequests.length==0">
                        <th class="col-lg-12"></th>
                    </tr>*@
                </thead>
                <tbody>
                    <tr ng-repeat="c in CredentialingContractRequests track by $index" ng-class='{danger:c.TableRowStatus ==false, success:c.TableRowStatus ==true}'>
                        <td>{{c.BusinessEntity.GroupName}}</td>
                        <td>
                            <span ng-repeat="s in c.ContractLOBs">
                                <i ng-if="$index>0">,</i><br ng-if="$index>0" />
                                <span>
                                    {{s.LOB.LOBName}}
                                </span>
                            </span>
                        </td>
                        <td>
                            <span ng-repeat="s in c.ContractSpecialties">
                                <i ng-if="$index>0">,</i><br ng-if="$index>0" />
                                {{s.ProfileSpecialty.Specialty.Name}}
                            </span>
                        </td>
                        <td>
                            <span ng-repeat="s in c.ContractPracticeLocations">
                                <i ng-if="$index>0">,</i><br ng-if="$index>0" />
                                {{s.ProfilePracticeLocation.Facility.FacilityName}} - {{s.ProfilePracticeLocation.Facility.Street}}, {{s.ProfilePracticeLocation.Facility.City}}, {{s.ProfilePracticeLocation.Facility.State}}, {{s.ProfilePracticeLocation.Facility.Country}}
                            </span>
                        </td>
                        <td>
                            <span class="label label-primary pull-left" ng-if="c.TableRowStatus==true">Completed </span>
                            <span class="label label-danger pull-left" ng-if="c.TableRowStatus==false">Not Completed </span>
                        </td>
                        <td>
                            <a class="btn btn-xs btn-info pull-right" href="@System.Configuration.ConfigurationManager.AppSettings["AppRoot"]/Credentialing/CnD/Application/{{c.credID}}" ng-click="setCredInfo(c.credID);" tooltip="" data-toggle="tooltip" data-placement="top" title="View Application">
                                <i class="fa fa-caret-right"></i>
                            </a>
                        </td>
                        <td>
                            <input type="checkbox" ng-model="c.isChecked" style="width:20px; height:20px;" ng-checked="selection.indexOf(c) > -1" ng-click="toggleSelection(c)" @*ng-change="selectEntity()"*@ ng-disabled="c.TableRowStatus==false">
                        </td>

                    </tr>
                </tbody>
            </table>
            &nbsp;&nbsp;
        </div>
        <br />
        <div class="col-lg-12 zero-padding-left-right-div" ng-hide="initiateSuccess">
            @*<div class="col-lg-12" ng-show="Groups.length == 0">
                <i class="data-label" style="color:red">Provider is not a part of any group. Please add Group details in profile !!</i>
            </div>*@

        </div>
        <div class="clearfix"></div>
        <br />
        <div class="col-lg-12 zero-padding-left-right-div">
            <div ng-show="activeMessageDiv=='successfulInitiated'" class="alert alert-success" role="alert">
                <div ng-show="selectedAction==2">
                    <button ng-click="closeAlertMessage('')" class="close"><span>&times;</span></button>
                    @*{{reCredData.Profile.PersonalDetail.FirstName}} {{reCredData.Profile.PersonalDetail.LastName}} you have Recredentialed for this plan*@
                    {{reCredData.Profile.PersonalDetail.FirstName}} {{reCredData.Profile.PersonalDetail.LastName}} {{messageDesc}}
                </div>
                <div ng-show="selectedAction==3">
                    <button ng-click="closeAlertMessage('')" class="close"><span>&times;</span></button>
                    {{messageDesc}}
                </div>


            </div>
            <div ng-show="activeMessageDiv=='errorInitiated'" class="col-lg-12">
                <div class="alert alert-danger" role="alert">
                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                    <span class="sr-only">Error:</span>
                    <span ng-repeat="err in errorInitiated track by $index">{{err}}</span>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
        <br />
        <div ng-show="initiateSuccess">
            <span class="col-lg-4"><hr /></span>
            <span class="col-lg-4 text-center h4">What would you like to do?</span>
            <span class="col-lg-4"><hr /></span>
        </div>
        <div class="col-lg-12 zero-padding-left-right-div">
            <div class="col-lg-6 text-left"><button class="btn btn-warning btn-sm" ng-click="SearchProviderPanelToggleDown('SearchProviderResultPanel');PlanListID=null"> Back to Search Result</button></div> @*onclick="$('a[href=#SearchResult]').trigger('click');"*@
            <div ng-show="selectedAction==2">
                <div ng-show="initiateSuccess  && delegatePlan == 'YES'" class="col-lg-6 text-right"><a class="btn btn-success btn-sm" href="@System.Configuration.ConfigurationManager.AppSettings["AppRoot"]/Credentialing/Verification/InitiateNewPSV?profileId={{ProfileID}}&credinfoId={{tempID}}"> Perform PSV </a></div>
                <div ng-show="initiateSuccess && delegatePlan == 'NO'" class="col-lg-6 text-right"><a class="btn btn-success btn-sm" href="@System.Configuration.ConfigurationManager.AppSettings["AppRoot"]/Credentialing/CnD/Application/{{tempID}}"> View ReCredentialing Application </a></div>
                <div ng-hide="initiateSuccess" class="col-lg-6 text-right"><button class="btn btn-primary btn-sm" ng-class="{'disabled': selection.length==0}" ng-click="InitiateReCredentialing(reCredData)"> Initiate ReCredentialing</button></div>

            </div>
            <div ng-show="selectedAction==3">
                <div ng-hide="initiateSuccess" class="col-lg-6 text-right"><button class="btn btn-primary btn-sm" ng-click="InitiateDeCredentialing(reCredData);"> Initiate DeCredentialing</button></div>
            </div>
        </div>
        <div class="clearfix"></div>
        <br />
    </div>
</div>
