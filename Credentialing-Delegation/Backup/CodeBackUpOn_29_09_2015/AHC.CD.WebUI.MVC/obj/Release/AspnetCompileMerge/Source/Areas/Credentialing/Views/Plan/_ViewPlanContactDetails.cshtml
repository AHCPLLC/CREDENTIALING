@model AHC.CD.WebUI.MVC.Areas.Credentialing.Models.Plan.PlanContactDetailViewModel

<fieldset>
    <legend>
        Contact Details
    </legend>
    @*<div class="pull-right legend2">
            <button type="button" class="btn btn-xs btn-success" tooltip data-toggle="tooltip" data-placement="top" title="Add More" ng-click="AddPlanContact();"><i class="fa fa-plus"></i></button>
        </div>*@
    <div ng-repeat="pcd in tempViewObject.ContactDetails track by $index" class="col-lg-12 zero-padding-right-right-div">
        @*<fieldset>*@
        @*<div ng-if="$index > 0" class="pull-right legend2">
                <button type="button" class="btn btn-xs btn-danger" tooltip data-toggle="tooltip" data-placement="top" title="Remove" ng-click="RemovePlanContact($index);"><i class=" fa fa-minus"></i></button>
            </div>*@
        <div class="col-lg-12">
            <div class="col-lg-3 form-group">
                <label class="control-label small" for="SalutationType">Contact Person Name:</label>
                <div>
                    <i class="data-label  wrap-words">{{pcd.ContactPersonName }}</i>
                </div>
            </div>
            <div class="form-group col-md-3">
                <label class="control-label small">Office Phone</label>
                <div ng-repeat="hp in filteredHomeNumberContactDetails = (getContactDetailsPhoneByPhoneTypeAndActiveStatus(pcd.ContactDetail.PhoneDetails,1,1)) track by $index">
                    <span class="ResultDataStyle">{{hp.CountryCode}}-{{hp.Number}} &nbsp;&nbsp; <i ng-if="hp.PreferenceType==1" tooltip data-toggle="tooltip" data-placement="right" title="Primary Home Phone" class="fa fa-check"></i></span>
                </div>
                @*<div ng-if="filteredHomeNumberContactDetails.length==0">
                    <i class="data-label">Not available</i>
                </div>*@
            </div>
            <div class="form-group col-md-3">
                <label class="control-label small">Office Fax</label>
                <div ng-repeat="hf in filteredFaxContactDetails = (getContactDetailsPhoneByPhoneTypeAndActiveStatus(pcd.ContactDetail.PhoneDetails,2,1)) track by $index">
                    <span class="ResultDataStyle">{{hf.CountryCode}}-{{hf.Number}} &nbsp;&nbsp; <i ng-if="hf.PreferenceType==1" tooltip data-toggle="tooltip" data-placement="right" title="Primary Home Fax" class="fa fa-check"></i></span>
                </div>
                @*<div ng-if="filteredFaxContactDetails.length==0">
                    <i class="data-label">Not available</i>
                </div>*@
            </div>
            <div class="form-group col-md-3">
                <label class="control-label small">Mobile Number</label>
                <div ng-if="filteredMobileContactDetails.length>1" ng-repeat="mn in filteredMobileContactDetails = (getContactDetailsPhoneByPhoneTypeAndActiveStatus(pcd.ContactDetail.PhoneDetails,3,1)) track by $index">
                    <span class="ResultDataStyle">{{mn.CountryCode}}-{{mn.Number}} &nbsp;&nbsp; <i ng-if="mn.PreferenceType==1" tooltip data-toggle="tooltip" data-placement="right" title="Primary Mobile Number" class="fa fa-check"></i></span>
                </div>
                @*<div ng-if="filteredMobileContactDetails.length==0">
                    <i class="data-label">Not available</i>
                </div>*@
                <div ng-if="filteredMobileContactDetails.length==1" ng-repeat="mn in filteredMobileContactDetails = (getContactDetailsPhoneByPhoneTypeAndActiveStatus(pcd.ContactDetail.PhoneDetails,3,1)) track by $index">
                    <span class="ResultDataStyle" ng-if="mn.Number">{{mn.CountryCode}}-{{mn.Number}} &nbsp;&nbsp; <i ng-if="mn.PreferenceType==1" tooltip data-toggle="tooltip" data-placement="right" title="Primary Mobile Number" class="fa fa-check"></i></span>
                    @*<i class="data-label" ng-if="!mn.Number">Not available</i>*@
                </div>
            </div>
        </div>
        <div class="col-lg-12">
            <div class="col-lg-3 zero-padding-left-right-div">
                <div class="col-lg-12 form-group" ng-init="contactPrefferedSearch.StatusType=1">
                    @Html.LabelFor(model => model.ContactDetail.PreferredContacts, new { @class = "control-label small" })
                    <div>
                        <table ng-if="pcd.ContactDetail.PreferredContacts.length > 0" class="table table-striped table-bordered table-hover table-condensed">
                            <thead>
                                <tr>
                                    <th>Priority</th>
                                    <th>Method Of Contact</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="pc in filterdPreferedContact = (pcd.ContactDetail.PreferredContacts | filter:contactPrefferedSearch) track by $index">
                                    <td>{{$index+1}}</td>
                                    <td ng-if="pc.ContactType == 'HomePhone'">Office Phone</td>
                                    <td ng-if="pc.ContactType != 'HomePhone'">{{pc.ContactType}}</td>
                                </tr>
                            </tbody>
                        </table>

                    </div>
                    @*<span ng-if="pcd.ContactDetail.PreferredContacts.length == 0">Not Available</span>*@
                </div>
            </div>
            <div class="col-lg-3">
                <label class="control-label small">Email Id</label>
                <div ng-repeat="email in pcd.ContactDetail.EmailIDs track by $index" ng-if="email.StatusType==1" class="wrap-words">
                    <span class="ResultDataStyle">{{email.EmailAddress}} &nbsp;&nbsp; <i ng-if="email.PreferenceType==1" tooltip data-toggle="tooltip" data-placement="right" title="Primary Email Address" class="fa fa-check"></i></span>
                </div>
                @*<div ng-if="Provider.ContactDetails.EmailIDs.length == 0">
                    <i class="data-label">Not available</i>
                </div>*@
            </div>
        </div>
        @*</fieldset>*@
    </div>
</fieldset>

