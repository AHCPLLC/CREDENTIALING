<div class="tab-pane fade in panel-body">
    <div ng-show="loadingOutboxAjax" class="progress col-lg-12">
        <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
            Loading Outbox...Please wait...
        </div>
    </div>
    <div>
        <div ng-class="{'false':'col-lg-5','true':'col-lg-12'}[list]" style="padding-left:10px; padding-right:0px;">
            <div class="panel-default form-style">
                <br />

                <fieldset ng-if="followUpEmails.length > 0 ">
                    <table class='table table-condensed customtbodyStyle table-striped' st-pipe="mc.callServer" st-table="mc.displayed">
                        <thead>
                            <tr><td><input style="width:65%;" st-search="" class="form-control" placeholder="Search ..." type="text" /></td></tr>
                        </thead>
                        <tbody ng-repeat="mail in mc.displayed track by $index">
                            <tr ng-repeat="email in mail.EmailRecipients">
                                <td colspan="2" ng-if="email.RecipientType=='To' && ($index==0)" class="wrap-words wraptext text-left" style="border-top:none;">
                                    {{email.Recipient}}
                                </td>
                                <td class="pull-right" ng-if="email.RecipientType=='To' && ($index==0)" style="border-top:none;"><button class="btn btn-xs btn-danger" data-toggle="tooltip" data-placement="top" title="Stop Follow Up" ng-click="stopFollowUP(mail.EmailInfoID)" tooltip><i class="fa fa-minus-circle"></i></button></td>
                            </tr>
                            @*<tr>
                    <td class="wrap-words text-left" style="border-top:none;">{{mail.From}}</td>
                    <td class="pull-right" style="border-top:none;"><button class="btn btn-xs btn-danger" data-toggle="tooltip" data-placement="top" title="Stop Follow Up" ng-click="stopFollowUP(mail.EmailInfoID)" tooltip><i class="fa fa-minus-circle"></i></button></td>
                </tr>*@
                            <tr>
                                <td class="wrap-words text-left col-lg-8" style="border-top:none;"><a target="_blank" href="" ng-click="viewDetails(mail) ">{{mail.Subject}}</a></td>
                                <td class="wrap-words text-right col-lg-4" style="border-top:none;">Next Follow Up Date: {{mail.SendingDate | date:'MMM dd yyyy'}}</td>
                            </tr>
                        </tbody>

                    </table>
                </fieldset>


                @*<fieldset>
                    <table class='table table-condensed customtbodyStyle table-striped' st-pipe="mc.callServer" st-table="mc.displayed">
                        <thead style="display:none;"></thead>

                        <tbody>                           
                            <tr ng-repeat="mail in mc.displayed">
                               
                                <td ng-repeat="recipient in mail.EmailRecipients">
                                    {{recipient.Recipient}}*@@*</td>
                                    <br />                              
                                    <span class="wrap-words"><a href="" ng-click="viewDetails(mail)">{{mail.Subject}}</a></span>
                                    <button class="btn btn-xs btn-danger" data-toggle="tooltip" data-placement="top" title="Stop Follow Up" ng-click="stopFollowUP(mail.EmailInfoID)" tooltip><i class="fa fa-minus-circle"></i></button>
                                    <span class="wrap-words pull-right" style="border-top:none;">Next Follow Up Date: {{mail.SendingDate | date:'MMM dd'}}</span>

                                </td>

                            
                            <tr>
                                <td class="wrap-words text-left col-lg-8" style="border-top:none;"><a target="_blank" href="" ng-click="viewDetails(mail) ">{{mail.Subject}}</a></td>
                                <td class="wrap-words text-right col-lg-4" style="border-top:none;">Next Follow Up Date: {{mail.NextFollowUpDate }}</td>
                            </tr>

                        <tfoot>
                            <tr>
                                <td style="cursor:pointer" class="text-center" st-pagination="" st-items-by-page="10" colspan="9"></td>
                            </tr>
                        </tfoot>
                    </table>                   
                </fieldset>*@
                <div ng-if="followUpEmails.length == 0">

                    No Follow Ups scheduled...

                </div>

            </div>
        </div>
        <div ng-show="!list">

            <div class="panel-default form-style">
                <br />
                <fieldset>
                    <div class="legend2 pull-right">
                        <button class="btn btn-xs btn-default" ng-click="closeList()" tooltip data-toggle="tooltip" data-placement="top" title="Close"><i class="fa fa-times"></i></button>
                    </div>
                    <table>
                        <tr class="col-lg-10">
                            <td class="muted col-lg-3 pull-left"><label>From:</label></td>
                            <td class="col-lg-7">{{Details.From}}</td>
                        </tr>
                        <tr class="col-lg-10" ng-repeat="recipient in ToList track by $index">
                            <td class="col-lg-3 pull-left" ng-if="$index==0"><label>To:</label></td>
                            <td class="col-lg-3 pull-left" ng-if="!($index==0)"></td>
                            <td class="col-lg-7" ng-if="recipient.RecipientType == 'To'" style="width: 330px;">
                                {{recipient.Recipient}}
                                <button class="btn btn-xs btn-danger pull-right" data-toggle="tooltip" data-placement="top" title="Stop Follow Up For This Reciever" ng-click="stopFollowUpForRecipient(Details.EmailInfoID, recipient.EmailRecipientDetailID)" tooltip><i class="fa fa-minus-circle"></i></button>
                            </td>
                        </tr>
                        <tr class="col-lg-10" ng-repeat="recipient in CcList">
                            <td class="muted col-lg-3 pull-left" ng-if="$index==0"><label>Cc:</label></td>
                            <td class="muted col-lg-3 pull-left" ng-if="!($index==0)"></td>
                            <td class="col-lg-7" ng-if="recipient.RecipientType == 'CC'">
                                {{recipient.Recipient || 'Not Available'}}
                                <button class="btn btn-xs btn-danger pull-right" data-toggle="tooltip" data-placement="top" title="Stop Follow Up For This Reciever" ng-click="stopFollowUpForRecipient(Details.EmailInfoID, recipient.EmailRecipientDetailID)" tooltip><i class="fa fa-minus-circle"></i></button>
                            </td>
                        </tr>
                        <tr class="col-lg-10" ng-repeat="recipient in BccList">
                            <td class="muted col-lg-3 pull-left" ng-if="$index==0"><label>Bcc:</label></td>
                            <td class="muted col-lg-3 pull-left" ng-if="!($index==0)"></td>
                            <td class="col-lg-7" ng-if="recipient.RecipientType == 'BCC'">
                                {{recipient.Recipient || 'Not Available'}}
                                <button class="btn btn-xs btn-danger pull-right" data-toggle="tooltip" data-placement="top" title="Stop Follow Up For This Reciever" ng-click="stopFollowUpForRecipient(Details.EmailInfoID, recipient.EmailRecipientDetailID)" tooltip><i class="fa fa-minus-circle"></i></button>
                            </td>
                        </tr>
                        <tr class="col-lg-10">
                            <td class="muted col-lg-3 pull-left"><label>Date:</label></td>
                            <td class="col-lg-7">{{Details.LastModifiedDate | date:'medium'}}</td>
                        </tr>
                        <tr class="col-lg-10">
                            <td class="muted col-lg-3 pull-left"><label>Subject:</label></td>
                            <td class="col-lg-7">{{Details.Subject}}</td>
                        </tr>
                        <tr class="col-lg-10" ng-if="Details.EmailAttachments.length > 0">
                            <td class="muted col-lg-4 pull-left"><label>Attachment(s):</label></td>
                            <td class="" ng-repeat="att in Details.EmailAttachments">
                                <a target="_blank" href="/Document/View?path={{att.AttachmentRelativePath}}" title="{{att.AttachmentRelativePath}}">
                                    <i class="fa fa-file" title=""></i>
                                </a>&nbsp;
                            </td>
                        </tr>


                        <tr class="col-lg-10">
                            <td class="muted col-lg-3 pull-left"><label>Body:</label></td>
                            <td class="bodyForMail ng-binding wrap-words col-lg-7" style="padding-left:25px;overflow:auto;overflow-wrap:break-word" ng-bind-html="renderHtml(Details.Body)"></td>
                        </tr>
                    </table>
                </fieldset>
            </div>

            @*<div class="panel-default form-style">
                <br />
                <fieldset>
                    <div class="legend2 pull-right">
                        <button class="btn btn-xs btn-default" ng-click="closeList()" tooltip data-toggle="tooltip" data-placement="top" title="Close"><i class="fa fa-times"></i></button>
                    </div>
                    <div>
                        <div class="col-lg-12">
                            <p class="muted text-right col-lg-3" style="margin-bottom:15px;">From:</p>
                            <p class="muted text-left col-lg-9"><label>{{Details.From}}</label></p>
                        </div>
                        <div class="col-lg-12">
                            <p class="muted col-lg-3 text-right" style="margin-bottom:15px;">To:</p>
                            <p class="col-lg-9 text-left" ng-repeat="recipient in Details.EmailRecipients track by $index" ng-if="recipient.RecipientType == 'To' && recipient.Status != 'Inactive'">
                                <label class="pull-left">{{recipient.Recipient}} </label>
                                <button class="btn btn-xs btn-danger pull-right" data-toggle="tooltip" data-placement="top" title="Stop Follow Up For This Reciever" ng-click="stopFollowUpForRecipient(Details.EmailInfoID, recipient.EmailRecipientDetailID)" tooltip><i class="fa fa-minus-circle"></i></button>
                            </p>
                        </div>
                        <div class="col-lg-12">
                            <p class="muted col-lg-3 text-right" style="margin-bottom:15px;">Next Follow Up Date:</p>
                            <br />
                            <p class="col-lg-9 text-left"><label>{{Details.NextFollowUpDate}}</label></p>
                        </div>
                        <div class="col-lg-12">
                            <p class="muted col-lg-3 text-right" style="margin-bottom:15px;">Attachment(s):</p>
                            <div class="col-lg-9 text-left" ng-if="Details.EmailAttachments.length > 0"><span ng-repeat="att1 in Details.EmailAttachments track by $index">&nbsp;<a href="@System.Configuration.ConfigurationManager.AppSettings["AppRoot"]/Document/View?path=@System.Configuration.ConfigurationManager.AppSettings["AppRoot"]{{att1.AttachmentRelativePath}}" target="_blank" title="{{att.AttachmentRelativePath}}"><i class="fa fa-file" title=""></i></a></span></div>
                        </div>
                        <div class="col-lg-12">
                            <p class="muted col-lg-3 text-right" style="margin-bottom:15px;">Subject:</p>
                            <p class="col-lg-9 text-left"><label>{{Details.Subject}}</label></p>
                        </div>
                        <div class="col-lg-12">
                            <p class="muted col-lg-3 text-right" style="margin-bottom:15px;">Body:</p>
                            <p style="padding-left:25px;overflow:auto;overflow-wrap:break-word" class="col-lg-9 text-left ng-binding bodyForMail" ng-bind-html="renderHtml(Details.Body)"></p>
                        </div>
                    </div>
                </fieldset>
            </div>*@
        </div>
    </div>
</div>

