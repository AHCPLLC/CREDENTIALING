@model AHC.CD.WebUI.MVC.Areas.Profile.Models.Demographic.BirthInformationViewModel

<form enctype="multipart/form-data" id="BirthInformationForm">
    <span ng-if="tempObject.BirthInformationID">
        @Html.HiddenFor(model => model.BirthInformationID, new { ng_value = "tempObject.BirthInformationID" })
    </span>
    <div class="col-md-12">
        <div class="form-group col-md-4">
            @Html.LabelFor(model => model.DateOfBirth, htmlAttributes: new { @class = "control-label small" })
            <div>
                @Html.TextBoxFor(model => model.DateOfBirth, new { type = "date", @class = "form-control input-sm", data_ng_model = "tempObject.DateOfBirth" })
                @Html.ValidationMessageFor(model => model.DateOfBirth, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group col-md-4">
            @Html.LabelFor(model => model.CountryOfBirth, htmlAttributes: new { @class = "control-label small" })
            <div>
                <select id="CountryOfBirth" name="CountryOfBirth" class="form-control input-sm" ng-model="tempObject.CountryOfBirth" ng-change="getStates(tempObject.CountryOfBirth)">
                    <option value="" disabled selected>--Select--</option>
                    <option ng-repeat="country in Countries" value="{{country.Code}}" ng-selected="country.Code == tempObject.CountryOfBirth">{{country.Name}}</option>
                </select>
            </div>
            @Html.ValidationMessageFor(model => model.CountryOfBirth, "", new { @class = "text-danger" })
        </div>
        <div class="form-group col-md-4">
            @Html.LabelFor(model => model.StateOfBirth, htmlAttributes: new { @class = "control-label small" })
            <div>
                <select id="StateOfBirth" name="StateOfBirth" class="form-control input-sm" ng-model="tempObject.StateOfBirth" ng-change="getCounties(tempObject.StateOfBirth)">
                    <option value="" disabled selected>--Select--</option>
                    <option ng-repeat="state in States | unique: 'State'" value="{{state.State}}" ng-selected="state.State == tempObject.StateOfBirth">{{state.State}}</option>
                </select>
            </div>
            @Html.ValidationMessageFor(model => model.StateOfBirth, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="clearfix"></div>

    <div class="col-md-12">
        <div class="form-group col-md-6">
            @Html.LabelFor(model => model.CountyOfBirth, htmlAttributes: new { @class = "control-label small" })
            <div>
                <select id="CountyOfBirth" name="CountyOfBirth" class="form-control input-sm" ng-model="tempObject.CountyOfBirth" ng-change="getCities(tempObject.CountyOfBirth)">
                    <option value="" disabled selected>--Select--</option>
                    <option ng-repeat="county in Counties | unique: 'County'" value="{{county.County}}" ng-selected="county.County == tempObject.CountyOfBirth">{{county.County}}</option>
                </select>
            </div>
            @Html.ValidationMessageFor(model => model.CountyOfBirth, "", new { @class = "text-danger" })
        </div>

        <div class="form-group col-md-6">
            @Html.LabelFor(model => model.CityOfBirth, htmlAttributes: new { @class = "control-label small" })
            <div>
                <select class="form-control input-sm" id="CityOfBirth" name="CityOfBirth" ng-model="tempObject.CityOfBirth">
                    <option value="" disabled selected>--Select--</option>
                    <option ng-repeat="city in Cities | unique: 'City'" value="{{city.City}}" ng-selected="city.City == tempObject.CityOfBirth">{{city.City}}</option>
                </select>
            </div>
            @Html.ValidationMessageFor(model => model.CityOfBirth, "", new { @class = "text-danger" })
        </div>
    </div>
    <div ng-if="tempObject.BirthCertificatePath" class="col-md-12">
        <div class="col-md-11">
            <div class="fileinput fileinput-new input-group" data-provides="fileinput">
                <div class="form-control" data-trigger="fileinput"><i class="glyphicon glyphicon-file fileinput-exists"></i> <span class="fileinput-filename"></span></div>
                <span class="input-group-addon btn btn-default btn-sm btn-file"><span class="fileinput-new">Select Birth Certificate</span><span class="fileinput-exists">Change</span><input type="file" name="BirthCertificateFile"></span>
                <a href="#" class="input-group-addon btn btn-default btn-sm fileinput-exists" data-dismiss="fileinput">Remove</a>
            </div>
            @Html.ValidationMessageFor(model => model.BirthCertificatePath, "", new { @class = "text-danger" })
        </div>
        <div class="col-lg-1 form-group">
            <div>
                <input type="hidden" name="BirthCertificatePath" value="{{tempObject.BirthCertificatePath}}" />
                <a href="{{tempObject.BirthCertificatePath}}" class="pointer" target="_blank" data-toggle="tooltip" data-placement="top" title="Birth Certificate"><i class="fa fa-2x fa-file"></i></a>
            </div>
        </div>
    </div>
    <div ng-if="!tempObject.BirthCertificatePath" class="form-group col-md-12">
        <div class="fileinput fileinput-new input-group" data-provides="fileinput">
            <div class="form-control" data-trigger="fileinput"><i class="glyphicon glyphicon-file fileinput-exists"></i> <span class="fileinput-filename"></span></div>
            <span class="input-group-addon btn btn-default btn-sm btn-file"><span class="fileinput-new">Select Birth Certificate</span><span class="fileinput-exists">Change</span><input type="file" name="BirthCertificateFile"></span>
            <a href="#" class="input-group-addon btn btn-default btn-sm fileinput-exists" data-dismiss="fileinput">Remove</a>
        </div>
    </div>
    <div class="clearfix"></div>
    <div ng-if="IsBirthInformationHasError" class="col-lg-12">
        <div class="alert alert-danger" role="alert">
            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
            <span class="sr-only">Error:</span>
            Error Lists : <br />
            <span ng-repeat="err in BirthInformationErrorList track by $index">{{err}}</span>
        </div>
    </div>
    <div class="col-md-12">
        <button class="btn btn-warning btn-sm" ng-click="operateCancelControl('_EditBirthInformation')">Cancel</button>
        <button class="btn btn-success btn-sm pull-right" type="submit" ng-click="saveBirthInformation('BirthInformationForm')">Save</button>
    </div>
</form>

