@using AHC.CD.WebUI.MVC.Areas.Profile.Attributes;

<br />
<div class="form-style" ng-controller="practiceLocationController">
    <fieldset>
        <legend>
            Practice Location
        </legend>
        <div>
            <div class="col-lg-12 zero-padding-left-right-div">
                <table ng-hide="PracticeLocationDetails.length >= 1 || visibilityControlPracLoc==('addPracticeLocation') || visibilityControlPracLoc==('addPracticeLocationNew')" class="table table-bordered table-condensed customtbodyStyle table-striped">
                    <thead>
                        <tr>
                            <td ng-hide="visibilityControl=='addPracticeLocation'">
                                No Data Available For Practice Locations !
                                @if (ProfileActionValidator.IsAuthorized(ProfileActionType.Add, ViewBag.Roles, false))
                                {
                                    <span>Please click on <button class="btn btn-xs btn-success" ng-click="operateAddControlPracLoc('addPracticeLocation')" data-toggle="tooltip" data-placement="right" title="Add new"><i class="fa fa-plus"></i></button> to add new practice location information</span>
                                }
                            </td>
                        </tr>
                    </thead>
                </table>
                <table ng-show="PracticeLocationDetails.length > 0" class="table table-bordered table-condensed customtbodyStyle table-striped">
                    <thead>
                        <tr>
                            <th>Facility Name</th>
                            <th>Practice Name</th>
                            <th>Street</th>
                            <th>Building/Suite Number</th>
                            <th>City</th>
                            <th>State</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody ng-repeat="PracticeLocationDetail in PracticeLocationDetails">
                        <tr>
                            <td class="wrap-words">{{PracticeLocationDetail.Facility.FacilityName || 'Not Available'}}</td>
                            <td class="wrap-words">{{PracticeLocationDetail.PracticeLocationCorporateName || 'Not Available'}}</td>
                            <td class="wrap-words">{{PracticeLocationDetail.Facility.Street || 'Not Available'}}</td>
                            <td class="wrap-words">{{PracticeLocationDetail.Facility.Building || 'Not Available'}}</td>
                            <td class="wrap-words">{{PracticeLocationDetail.Facility.City || 'Not Available'}}</td>
                            <td class="wrap-words">{{PracticeLocationDetail.Facility.State || 'Not Available'}}</td>
                            <td class="col-lg-2 zero-padding-left-right-div">
                                <button class="btn btn-xs btn-default" data-toggle="tooltip" data-placement="top" title="View / Edit" ng-click="operateCancelControl(''); operateAddControlPracLoc($index+'_viewPracticeLOcation') ; supervisingforfacility(PracticeLocationDetail.PracticeLocationDetailID , PracticeLocationDetail.Facility.FacilityID);" tooltip><i class="fa fa-eye"></i></button>
                                <button ng-click="operateCancelControl(''); operateAddControlPracLoc($index+'_viewPracticeLOcation') ; supervisingforfacility(PracticeLocationDetail.PracticeLocationDetailID,PracticeLocationDetail.Facility.FacilityID);" class="btn btn-xs btn-primary" title="Edit" tooltip><i class="fa fa-edit"></i></button>
                                <button class="btn btn-xs btn-success" data-toggle="tooltip" data-placement="right" title="Add New" ng-click="operateAddControlPracLoc('addPracticeLocation')" ng-if=" $index+1==PracticeLocationDetails.length" tooltip><i class="fa fa-plus"></i></button>
                            </td>
                        </tr>
                        <tr ng-if="visibilityControlPracLoc==($index+'_viewPracticeLOcation')">
                            <td colspan="7">
                                @Html.Partial("~/Areas/Profile/Views/PracticeLocation/_ViewPracticeLocationInformation.cshtml")
                            </td>
                        </tr>

                    </tbody>
                </table>

            </div>

        </div>
    </fieldset>
    <fieldset ng-show="visibilityControlPracLoc==('addPracticeLocation')">
        <legend>
            Add Practice Location
        </legend>
        <form id="addPracticeLocationDetails">
            @Html.Partial("~/Areas/Profile/Views/PracticeLocation/_AddEditGeneralInformation.cshtml")
        </form>
        @*Add And Cancel Buttons For Practice Location Details Data Start*@
        <div class="col-lg-12">
            <div class="control-group">
                <button class="btn btn-warning btn-sm" ng-click="operateAddControlPracLoc('');resetDates();">Cancel</button>
                <button class="btn btn-success btn-sm pull-right" ng-click="savePracticeLocationDetailInformaton()">Save</button>
            </div>
        </div>
        @*Add And Cancel Buttons For Practice Location Details Data End*@


    </fieldset>

    <fieldset ng-show="visibilityControlPracLoc==('addPracticeLocationNew')">
        <legend>
            Add Facility Data
        </legend>
        <form id="newFacilityDataForm">
            @Html.Partial("~/Areas/Profile/Views/PracticeLocation/_AddEditFacilityData.cshtml")
        </form>



    </fieldset>
    <div class="clearfix"></div>
    <div ng-show="activeMessageDiv=='addedNewFacility'" class="alert alert-success" role="alert">
        <button ng-click="closeAlertMessage('')" class="close"><span>&times;</span></button>
        <i class="fa fa-2x fa-arrow-up"></i> {{messageDesc}}
    </div>

</div>