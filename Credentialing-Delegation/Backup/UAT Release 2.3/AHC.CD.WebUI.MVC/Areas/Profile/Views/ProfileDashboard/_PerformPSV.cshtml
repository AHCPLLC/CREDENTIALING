
<div ng-show="showPsvError">
    <div class="col-lg-12">
        <div class="alert alert-danger" role="alert">
            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
            <span>No PSV information available.</span>
        </div>
    </div>
</div>

<div ng-hide="showPsvError" ng-repeat="tab in FormattedData track by $index">
    @* state license *@
    <table class='table table-striped table-bordered small wrap-words' ng-if="tab.Id==StateLicenseParameterID">
        <thead>
            <tr>
                <th colspan="6"><a class="pointer">{{tab.Info[0].ProfileVerficationParameterObj.Title}}</a></th>
            </tr>
            @*<tr ng-show="tempData[0].Licenses.length == '0'">
                    <th colspan="6" class="danger"><span class="control-label danger">No State Licenses Available !!!</span></th>
                </tr>*@
            <tr @*ng-show="tempData[0].Licenses.length > '0'"*@>
                <th class='col-lg-2 col-md-2 col-sm-2 col-xs-2'>
                    <a ng-click="reverse=!reverse;order('LicenseNumber',reverse,3)" class="pointer">License Number <i ng-if="selectedSection==3 && !reverse" class="fa fa-caret-up"></i><i ng-if="selectedSection==3 && reverse" class="fa fa-caret-down"></i></a>
                </th>
                <th class='col-lg-2 col-md-2 col-sm-2 col-xs-2'>
                    <a ng-click="reverse=!reverse;order('IssueState',reverse,4)" class="pointer">Document <i ng-if="selectedSection==4 && !reverse" class="fa fa-caret-up"></i><i ng-if="selectedSection==4 && reverse" class="fa fa-caret-down"></i></a>
                </th>
                <th class='col-lg-3 col-md-3 col-sm-3 col-xs-3'>
                    <a ng-click="reverse=!reverse;order('StateLicenseStatus.Title',reverse,7)" class="pointer">Source <i ng-if="selectedSection==7 && !reverse" class="fa fa-caret-up"></i><i ng-if="selectedSection==7 && reverse" class="fa fa-caret-down"></i></a>
                </th>
                <th class='col-lg-2 col-md-2 col-sm-2 col-xs-2'>
                    <a ng-click="reverse=!reverse;order('ExpiryDate',reverse,5)" class="pointer">Verified Date<i ng-if="selectedSection==5 && !reverse" class="fa fa-caret-up"></i><i ng-if="selectedSection==5 && reverse" class="fa fa-caret-down"></i></a>
                </th>
                <th class='col-lg-2 col-md-2 col-sm-2 col-xs-2'>
                    <a ng-click="reverse=!reverse;order('dayLeft',reverse,6)" class="pointer">Verified Document<i ng-if="selectedSection==6 && !reverse" class="fa fa-caret-up"></i><i ng-if="selectedSection==6 && reverse" class="fa fa-caret-down"></i></a>
                </th>
                @*<th class='col-lg-1 col-md-1 col-sm-1 col-xs-1'>Action</th>*@
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat='lisence in tab.Info track by $index' ng-class='{danger:license.dayLeft < -1, warning:license.dayLeft < 90, info:license.dayLeft < 180}'>
                <td>{{lisence.VerificationData.LicenseNumber}}</td>
                <td><a ng-if="lisence.VerificationData.StateLicenseDocumentPath" toggle data-toggle="tooltip" data-placement="bottom" title="Preview" href="{{lisence.VerificationData.StateLicenseDocumentPath}}" targ target="_blank"><i class="fa fa-file"></i></a></td>
                <td><a style="cursor:pointer" class="data-label wrap-words" ng-if="lisence.VerificationResultObj.Source" ng-click="checkForHttp(lisence.VerificationResultObj.Source)">{{lisence.VerificationResultObj.Source}}</a></td>
                <td>{{lisence.VerificationDate | date:'MM/dd/yyyy'}}</td>
                <td><a ng-if="lisence.VerificationResultObj.VerificationDocumentPath" toggle data-toggle="tooltip" data-placement="bottom" title="Preview" href="{{lisence.VerificationResultObj.VerificationDocumentPath}}" targ target="_blank"><i class="fa fa-file"></i></a></td>
                @*<td><a class='btn btn-xs btn-default' tooltip data-toggle='tooltip' data-placement='right' title='Perform PSV'><i class='fa fa-repeat'></i></a></td>*@
            </tr>
        </tbody>
    </table>


    @* DEA *@
    <table class='table table-striped table-bordered small wrap-words' ng-if="tab.Id==DEAParameterID">
        <thead>
            <tr>
                <th colspan="6"><a class="pointer">{{tab.Info[0].ProfileVerficationParameterObj.Title}}</a></th>
            </tr>
            @*<tr ng-show="tempData[1].Licenses.length == '0'">
                    <th colspan="5" class="danger"><span class="control-label danger">No Federal DEA Available !!!</span></th>
                </tr>*@
            <tr @*ng-show="tempData[1].Licenses.length > '0'"*@>
                <th class='col-lg-2 col-md-2 col-sm-2 col-xs-2'>
                    <a ng-click="reverse=!reverse;order('DEANumber',reverse,3)" class="pointer">DEA Number <i ng-if="selectedSection==3 && !reverse" class="fa fa-caret-up"></i><i ng-if="selectedSection==3 && reverse" class="fa fa-caret-down"></i></a>
                </th>
                <th class='col-lg-2 col-md-2 col-sm-2 col-xs-2'>
                    <a ng-click="reverse=!reverse;order('IssueState',reverse,4)" class="pointer">Document <i ng-if="selectedSection==4 && !reverse" class="fa fa-caret-up"></i><i ng-if="selectedSection==4 && reverse" class="fa fa-caret-down"></i></a>
                </th>
                <th class='col-lg-3 col-md-3 col-sm-3 col-xs-3'>
                    <a ng-click="reverse=!reverse;order('StateLicenseStatus.Title',reverse,7)" class="pointer">Source <i ng-if="selectedSection==7 && !reverse" class="fa fa-caret-up"></i><i ng-if="selectedSection==7 && reverse" class="fa fa-caret-down"></i></a>
                </th>
                <th class='col-lg-2 col-md-2 col-sm-2 col-xs-2'>
                    <a ng-click="reverse=!reverse;order('ExpiryDate',reverse,5)" class="pointer">Verified Date<i ng-if="selectedSection==5 && !reverse" class="fa fa-caret-up"></i><i ng-if="selectedSection==5 && reverse" class="fa fa-caret-down"></i></a>
                </th>
                <th class='col-lg-2 col-md-2 col-sm-2 col-xs-2'>
                    <a ng-click="reverse=!reverse;order('dayLeft',reverse,6)" class="pointer">Verified Document<i ng-if="selectedSection==6 && !reverse" class="fa fa-caret-up"></i><i ng-if="selectedSection==6 && reverse" class="fa fa-caret-down"></i></a>
                </th>
                @*<th class='col-lg-1 col-md-1 col-sm-1 col-xs-1'>Action</th>*@
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat='lisence in tab.Info track by $index' ng-class='{danger:license.dayLeft < -1, warning:license.dayLeft < 90, info:license.dayLeft < 180}'>
                <td>{{lisence.VerificationData.DEANumber}}</td>
                <td><a ng-if="lisence.VerificationData.DEALicenceCertPath" data-toggle="tooltip" data-placement="bottom" title="Preview" href="{{lisence.VerificationData.DEALicenceCertPath}}" target="_blank"><i class="fa fa-file"></i></a></td>
                <td><a style="cursor:pointer" class="data-label wrap-words" ng-if="lisence.VerificationResultObj.Source" ng-click="checkForHttp(lisence.VerificationResultObj.Source)">{{lisence.VerificationResultObj.Source}}</a></td>
                <td>{{lisence.VerificationDate | date:'MM/dd/yyyy'}}</td>
                <td><a ng-if="lisence.VerificationResultObj.VerificationDocumentPath" toggle data-toggle="tooltip" data-placement="bottom" title="Preview" href="{{lisence.VerificationResultObj.VerificationDocumentPath}}" targ target="_blank"><i class="fa fa-file"></i></a></td>
                @*<td><a class='btn btn-xs btn-default' tooltip data-toggle='tooltip' data-placement='right' title='Perform PSV'><i class='fa fa-repeat'></i></a></td>*@
            </tr>
        </tbody>
    </table>

    @* CDS *@
    <table class='table table-striped table-bordered small wrap-words' ng-if="tab.Id==CDSParameterID">
        <thead>
            <tr>
                <th colspan="6"><a class="pointer">{{tab.Info[0].ProfileVerficationParameterObj.Title}}</a></th>
            </tr>
            @*<tr ng-show="tempData[2].Licenses.length == '0'">
                    <th colspan="5" class="danger"><span class="control-label danger">No CDS Information Available !!!</span></th>
                </tr>*@
            <tr @*ng-show="tempData[2].Licenses.length > '0'"*@>
                <th class='col-lg-2 col-md-2 col-sm-2 col-xs-2'>
                    <a ng-click="reverse=!reverse;order('CertNumber',reverse,3)" class="pointer">CDS Number <i ng-if="selectedSection==3 && !reverse" class="fa fa-caret-up"></i><i ng-if="selectedSection==3 && reverse" class="fa fa-caret-down"></i></a>
                </th>
                <th class='col-lg-2 col-md-2 col-sm-2 col-xs-2'>
                    <a ng-click="reverse=!reverse;order('IssueState',reverse,4)" class="pointer">Document <i ng-if="selectedSection==4 && !reverse" class="fa fa-caret-up"></i><i ng-if="selectedSection==4 && reverse" class="fa fa-caret-down"></i></a>
                </th>
                <th class='col-lg-3 col-md-3 col-sm-3 col-xs-3'>
                    <a ng-click="reverse=!reverse;order('StateLicenseStatus.Title',reverse,7)" class="pointer">Source <i ng-if="selectedSection==7 && !reverse" class="fa fa-caret-up"></i><i ng-if="selectedSection==7 && reverse" class="fa fa-caret-down"></i></a>
                </th>
                <th class='col-lg-2 col-md-2 col-sm-2 col-xs-2'>
                    <a ng-click="reverse=!reverse;order('ExpiryDate',reverse,5)" class="pointer">Verified Date<i ng-if="selectedSection==5 && !reverse" class="fa fa-caret-up"></i><i ng-if="selectedSection==5 && reverse" class="fa fa-caret-down"></i></a>
                </th>
                <th class='col-lg-2 col-md-2 col-sm-2 col-xs-2'>
                    <a ng-click="reverse=!reverse;order('dayLeft',reverse,6)" class="pointer">Verified Document<i ng-if="selectedSection==6 && !reverse" class="fa fa-caret-up"></i><i ng-if="selectedSection==6 && reverse" class="fa fa-caret-down"></i></a>
                </th>
                @*<th class='col-lg-1 col-md-1 col-sm-1 col-xs-1'>Action</th>*@
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat='lisence in tab.Info track by $index' ng-class='{danger:license.dayLeft < -1, warning:license.dayLeft < 90, info:license.dayLeft < 180}'>
                <td>{{lisence.VerificationData.CertNumber}}</td>
                <td><a ng-if="lisence.VerificationData.CDSCCerificatePath" toggle data-toggle="tooltip" data-placement="bottom" title="Preview" href="{{lisence.VerificationData.CDSCCerificatePath}}" targ targe target="_blank"><i class="fa fa-file"></i></a></td>
                <td><a style="cursor:pointer" class="data-label wrap-words" ng-if="lisence.VerificationResultObj.Source" ng-click="checkForHttp(lisence.VerificationResultObj.Source)">{{lisence.VerificationResultObj.Source}}</a></td>
                <td>{{lisence.VerificationDate | date:'MM/dd/yyyy'}}</td>
                <td><a ng-if="lisence.VerificationResultObj.VerificationDocumentPath" toggle data-toggle="tooltip" data-placement="bottom" title="Preview" href="{{lisence.VerificationResultObj.VerificationDocumentPath}}" targ target="_blank"><i class="fa fa-file"></i></a></td>
                @*<td><a class='btn btn-xs btn-default' tooltip data-toggle='tooltip' data-placement='right' title='Perform PSV'><i class='fa fa-repeat'></i></a></td>*@
            </tr>
        </tbody>
    </table>

    @* Board certificates *@
    <table class='table table-striped table-bordered small wrap-words' ng-if="tab.Id==BoardCertificationParameterID">
        <thead>
            <tr>
                <th colspan="6"><a class="pointer">{{tab.Info[0].ProfileVerficationParameterObj.Title}}</a></th>
            </tr>
            @*<tr ng-show="tempData[3].Licenses.length == '0'">
                    <th colspan="6" class="danger"><span class="control-label danger">No Specialty/Board Available !!!</span></th>
                </tr>*@
            <tr @*ng-show="tempData[3].Licenses.length > '0'"*@>
                <th class='col-lg-2 col-md-2 col-sm-2 col-xs-2'>
                    <a ng-click="reverse=!reverse;order('CertificateNumber',reverse,1)" class="pointer">Speciality Board Name <i ng-if="selectedSection==1 && !reverse" class="fa fa-caret-up"></i><i ng-if="selectedSection==1 && reverse" class="fa fa-caret-down"></i></a>
                </th>
                <th class='col-lg-2 col-md-2 col-sm-2 col-xs-2'>
                    <a ng-click="reverse=!reverse;order('IssueState',reverse,4)" class="pointer">Document <i ng-if="selectedSection==4 && !reverse" class="fa fa-caret-up"></i><i ng-if="selectedSection==4 && reverse" class="fa fa-caret-down"></i></a>
                </th>
                <th class='col-lg-3 col-md-3 col-sm-3 col-xs-3'>
                    <a ng-click="reverse=!reverse;order('StateLicenseStatus.Title',reverse,7)" class="pointer">Source <i ng-if="selectedSection==7 && !reverse" class="fa fa-caret-up"></i><i ng-if="selectedSection==7 && reverse" class="fa fa-caret-down"></i></a>
                </th>
                <th class='col-lg-2 col-md-2 col-sm-2 col-xs-2'>
                    <a ng-click="reverse=!reverse;order('ExpiryDate',reverse,5)" class="pointer">Verified Date<i ng-if="selectedSection==5 && !reverse" class="fa fa-caret-up"></i><i ng-if="selectedSection==5 && reverse" class="fa fa-caret-down"></i></a>
                </th>
                <th class='col-lg-2 col-md-2 col-sm-2 col-xs-2'>
                    <a ng-click="reverse=!reverse;order('dayLeft',reverse,6)" class="pointer">Verified Document<i ng-if="selectedSection==6 && !reverse" class="fa fa-caret-up"></i><i ng-if="selectedSection==6 && reverse" class="fa fa-caret-down"></i></a>
                </th>
                @*<th class='col-lg-1 col-md-1 col-sm-1 col-xs-1'>Action</th>*@
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat='lisence in tab.Info track by $index' ng-class='{danger:license.dayLeft < -1, warning:license.dayLeft < 90, info:license.dayLeft < 180}'>
                <td>{{lisence.VerificationData.SpecialtyBoardCertifiedDetail.SpecialtyBoard.Name}}</td>
                <td><a ng-if="lisence.VerificationData.SpecialtyBoardCertifiedDetail.BoardCertificatePath" toggle data-toggle="tooltip" data-placement="bottom" title="Preview" href="{{lisence.VerificationData.SpecialtyBoardCertifiedDetail.BoardCertificatePath}}" tar target="_blank"><i class="fa fa-file"></i></a></td>
                <td><a style="cursor:pointer" class="data-label wrap-words" ng-if="lisence.VerificationResultObj.Source" ng-click="checkForHttp(lisence.VerificationResultObj.Source)">{{lisence.VerificationResultObj.Source}}</a></td>
                <td>{{lisence.VerificationDate | date:'MM/dd/yyyy'}}</td>
                <td><a ng-if="lisence.VerificationResultObj.VerificationDocumentPath" toggle data-toggle="tooltip" data-placement="bottom" title="Preview" href="{{lisence.VerificationResultObj.VerificationDocumentPath}}" targ target="_blank"><i class="fa fa-file"></i></a></td>
                @*<td><a class='btn btn-xs btn-default' tooltip data-toggle='tooltip' data-placement='right' title='Perform PSV'><i class='fa fa-repeat'></i></a></td>*@
            </tr>
        </tbody>
    </table>

    @* last 3 *@
    <table class="table table-striped table-bordered small wrap-words" ng-if="tab.Id==NPDBParameterID || tab.Id==MOPTParameterID || tab.Id==OIGParameterID">
        <thead>
            <tr>
                <th colspan="5"><a class="pointer">{{tab.Info[0].ProfileVerficationParameterObj.Title}}</a></th>
            </tr>
            @*<tr ng-show="tempData[3].Licenses.length == '0'">
                    <th colspan="6" class="danger"><span class="control-label danger">No Specialty/Board Available !!!</span></th>
                </tr>*@
            <tr @*ng-show="tempData[3].Licenses.length > '0'"*@>
                <th class='col-lg-2 col-md-2 col-sm-2 col-xs-2'>
                    <a ng-click="reverse=!reverse;order('CertificateNumber',reverse,1)" class="pointer">Source <i ng-if="selectedSection==1 && !reverse" class="fa fa-caret-up"></i><i ng-if="selectedSection==1 && reverse" class="fa fa-caret-down"></i></a>
                </th>
                <th class='col-lg-2 col-md-2 col-sm-2 col-xs-2'>
                    <a ng-click="reverse=!reverse;order('IssueState',reverse,4)" class="pointer">Remarks <i ng-if="selectedSection==4 && !reverse" class="fa fa-caret-up"></i><i ng-if="selectedSection==4 && reverse" class="fa fa-caret-down"></i></a>
                </th>
                <th class='col-lg-2 col-md-2 col-sm-2 col-xs-2'>
                    <a ng-click="reverse=!reverse;order('ExpiryDate',reverse,5)" class="pointer">Verified Date<i ng-if="selectedSection==5 && !reverse" class="fa fa-caret-up"></i><i ng-if="selectedSection==5 && reverse" class="fa fa-caret-down"></i></a>
                </th>
                <th class='col-lg-2 col-md-2 col-sm-2 col-xs-2'>
                    <a ng-click="reverse=!reverse;order('dayLeft',reverse,6)" class="pointer">Verified Document<i ng-if="selectedSection==6 && !reverse" class="fa fa-caret-up"></i><i ng-if="selectedSection==6 && reverse" class="fa fa-caret-down"></i></a>
                </th>
                @*<th class='col-lg-1 col-md-1 col-sm-1 col-xs-1'>Action</th>*@
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat='lisence in tab.Info track by $index' ng-class='{danger:license.dayLeft < -1, warning:license.dayLeft < 90, info:license.dayLeft < 180}'>
                <td><a style="cursor:pointer" class="data-label wrap-words" ng-if="lisence.VerificationResultObj.Source" ng-click="checkForHttp(lisence.VerificationResultObj.Source)">{{lisence.VerificationResultObj.Source}}</a></td>
                <td>{{lisence.VerificationResultObj.Remark}}</td>
                <td>{{lisence.VerificationDate | date:'MM/dd/yyyy'}}</td>
                <td><a ng-if="lisence.VerificationResultObj.VerificationDocumentPath" toggle data-toggle="tooltip" data-placement="bottom" title="Preview" href="{{lisence.VerificationResultObj.VerificationDocumentPath}}" targ target="_blank"><i class="fa fa-file"></i></a></td>
                @*<td><a class='btn btn-xs btn-default' tooltip data-toggle='tooltip' data-placement='right' title='Perform PSV'><i class='fa fa-repeat'></i></a></td>*@
            </tr>
        </tbody>
    </table>
</div>
