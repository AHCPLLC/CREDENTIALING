@using AHC.CD.WebUI.MVC.Areas.Profile.Attributes
<div class="form-style">
    <fieldset>
        <legend>
            Partners/Associates/Covering Colleagues
        </legend>

        <div id="CredentialingContact">
            <div class="col-lg-12 zero-padding-left-right-div">
                <table ng-hide=" PracticeLocationDetails.PracticeColleague.length >= 0 || visibilitySecondControl==('addPartner')" class="table table-bordered table-condensed customtbodyStyle table-striped">
                    <thead>
                        <tr>
                            <td>
                                No Data Available For Partners/Associates/Covering Colleagues  !
                                @if (ProfileActionValidator.IsAuthorized(ProfileActionType.Add, ViewBag.Roles, false))
                                {
                                    <span>
                                        Please click on <button id="noPartners" class="btn btn-xs btn-success" ng-click="operateSecondViewAndAddControl('addPartner')" data-toggle="tooltip" data-placement="right" title="Add new"><i class="fa fa-plus"></i></button>
                                        to Add Partners/Associates/Covering Colleagues
                                    </span>
                                }
                            </td>

                        </tr>
                    </thead>
                </table>
                <table ng-hide=" PracticeLocationDetails[0].PracticeColleague == null" class="table table-bordered table-condensed table-striped customtbodyStyle">
                    <thead>

                        <tr>
                            <th>Employer Name</th>
                            <th>Specialty Code</th>
                            <th>Provider Type</th>
                            <th>Action</th>
                        </tr>

                    </thead>
                    <tbody ng-repeat="partner in PracticeLocationDetails.PracticeColleague">

                        <tr>
                            <td>{{partner.First}}</td>
                            <td>{{partner.Specialty}}</td>
                            <td>{{partner.ProviderType}}</td>
                            <td>
                                @if (ProfileActionValidator.IsAuthorized(ProfileActionType.View, ViewBag.Roles, false))
                                {
                                <button class="btn btn-xs btn-default" data-toggle="tooltip" data-placement="left" title="View" ng-click="operateSecondViewAndAddControl($index,'_viewPartner')"><i class="fa fa-eye"></i></button>
                                }                            
                                @if (ProfileActionValidator.IsAuthorized(ProfileActionType.Edit, ViewBag.Roles, false))
                                { 
                                <button class="btn btn-xs btn-primary" data-toggle="tooltip" data-placement="top" title="Remove" ng-click=""><i class="fa fa-remove"></i></button>
                                }
                                @if (ProfileActionValidator.IsAuthorized(ProfileActionType.Add, ViewBag.Roles, false))
                                { 
                                    <button data-toggle="tooltip" data-placement="right" title="Add New" ng-hide="$index+1!=PracticeLocationDetails.PracticeColleague.length" class="btn btn-xs btn-success" ng-click="operateSecondViewAndAddControl('addPartner')"><i class="fa fa-plus"></i></button>
                                }
                              </td>
                        </tr>
                        <tr ng-show="visibilityControl==($index,'_viewPartner')">
                            <td colspan="6" id="PartnersEditDiv{{$index}}" class="editTableDataStyle">
                                @Html.Partial("~/Areas/Profile/Views/PracticeLocation/_ViewPartners.cshtml")
                            </td>
                        </tr>
                        <tr ng-show="visibilityControl==($index,'_editPartner')">
                            <td colspan="6" id="partnersEditDiv{{$index}}" class="editTableDataStyle">
                                @Html.Partial("~/Areas/Profile/Views/PracticeLocation/_AddEditPartners.cshtml")
                            </td>
                        </tr>
                    </tbody>

                </table>

            </div>

            <div class="clearfix"></div>
            @if (ProfileActionValidator.IsAuthorized(ProfileActionType.Add, ViewBag.Roles, false))
            { 
            <fieldset ng-show="visibilitySecondControl==('addPartner')">
                <legend>
                    Add Partners/Associates/Covering Colleagues
                </legend>
                <div id="newShowPartnersDiv">
                    @Html.Partial("~/Areas/Profile/Views/PracticeLocation/_AddEditPartners.cshtml")
                </div>
            </fieldset>
            }
            @*<div ng-hide="primaryPracticeLocations.Partners.length > 0 || newShowPartners" class="col-md-12 text-right">
                <button class="btn btn-xs btn-primary addHosPrvBtn" ng-click="addPartners()"><i class="fa fa-plus"></i> Add Partners/Associates/Covering Colleagues</button>
            </div>*@

            <div ng-show="activeMessageDiv=='addedPartnerDetails'" class="alert alert-success" role="alert">
                <button ng-click="closeAlertMessage('')" class="close"><span>&times;</span></button>
                <i class="fa fa-2x fa-arrow-up"></i> {{messageDesc}}
            </div>
            <div class="clearfix"></div><br />
        </div>
    </fieldset>
</div>
