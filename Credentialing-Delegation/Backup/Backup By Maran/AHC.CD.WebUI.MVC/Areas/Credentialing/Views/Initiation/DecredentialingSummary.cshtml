@{
    ViewBag.Title = "DecredentialingSummary";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@section AddToHead{
    <link href="~/Content/SharedCss/jasny-bootstrap.css" rel="stylesheet" />
    <script src="~/Scripts/Lib/Jquery/jquery-1.11.0.js"></script>
    <script src="~/Scripts/Lib/Angular/angular.min.js"></script>

    <script src="~/Scripts/Lib/Angular/ng-table.js"></script>
    <link href="~/Content/SharedCss/bootstrap-duallistbox.css" rel="stylesheet" />
    <link href="~/Content/SharedCss/select2/select2.css" rel="stylesheet" />
    <script src="~/Scripts/Lib/Jquery/select2.min.js"></script>
    <script src="~/Scripts/Lib/Bootstrap/jquery.bootstrap-duallistbox.js"></script>
    <script src="~/Areas/Credentialing/Scripts/InitiateCredentialingJS.js"></script>
    <script src="~/Areas/Credentialing/Scripts/SingleProviderJS.js"></script>
    <script src="~/Areas/Credentialing/Scripts/CredentialingList.js"></script>
}
<style>
    .vertical-align {
        align-items: center;
    }

    .selectedProvider {
        background-color: rgb(150, 162, 225);
    }

    .imageStyle {
        padding: 0px;
        margin-bottom: 0px;
    }

    .alignTableStyle > thead > tr > th,
    .alignTableStyle > tbody > tr > th,
    .alignTableStyle > tfoot > tr > th,
    .alignTableStyle > thead > tr > td,
    .alignTableStyle > tbody > tr > td,
    .alignTableStyle > tfoot > tr > td {
        vertical-align: middle;
        text-align: center;
    }

    .marginTop {
        margin-top: 22px;
    }

    .marginBottom {
        margin-bottom: 22px;
    }

    .select2-container {
        display: block;
    }
</style>
<div id="page-wrapper" class="container-fluid" ng-app="CredentialingList" ng-controller="credentialingListController" ng-cloak>
    <div class="row" ng-init="getPlanReport(@ViewBag.infoSummary)">
        <div class="col-lg-12">
            <ol class="breadcrumb">
                <li>
                    <i class="fa fa-check-square-o"></i> <a ng-click="setCreListId(3);getDeCredList();" href="@System.Configuration.ConfigurationManager.AppSettings["AppRoot"]/Credentialing/Initiation/CredentialingList">De-Credentialing List </a>
                </li>
                <li>
                    <i class="fa fa-user"></i> {{FullName}}

                </li>
            </ol>
        </div>
    </div>
    <div class="col-lg-8 zero-padding-left-right-div form-style">
        <fieldset>
            <legend>Summary</legend>
            @*<div class="col-lg-12 zero-padding-left-right-div">
                <div class="col-lg-4 form-group pull-left">
                    <label class="control-label small">De-Credentialing Reason</label>
                    <div>
                        <i class="data-label wrap-words">{{reason || 'Not Available'}}</i>
                    </div>
                </div>
                <div class="col-lg-4 form-group pull-right">
                    <label class="control-label small">Supporting Document</label>
                    <div>
                        <span ng-if="DocPath!=''">
                            <a target="_blank" href="@System.Configuration.ConfigurationManager.AppSettings["AppRoot"]{{DocPath}}"><i class="fa fa-2x fa-file"></i></a>
                        </span>
                        <span ng-if="DocPath==''">Not Available</span>
                    </div>
                </div>
            </div>*@
            <table class="table table-hover table-bordered">

                <!-- ngInclude: templates.header -->
                <thead>
                    <tr>
                        <th>Business Entity</th>
                        <th>LOB</th>
                        <th>Specialty</th>
                        <th>Location</th>
                        <th>Initial-Cred Date</th>
                        <th>De-Credentialing Reason</th>
                        <th>Supporting Document</th>
                    </tr>
                    @*<tr>
                            <td><input type="text" placeholder="Filter First Name" class="form-control input-sm" ng-model="search.FirstName" /></td>
                            <td><input type="text" placeholder="Filter Last Name" class="form-control input-sm" ng-model="search.LastName" /></td>
                            <td><input type="text" placeholder="Filter Plan" class="form-control input-sm" ng-model="search.PlanName" /></td>
                            <td><input type="text" placeholder="Filter Initiated Date" class="form-control input-sm" ng-model="search.InitiationDate" /></td>
                            <td><input type="text" placeholder="Filter Status" class="form-control input-sm" ng-model="search.Status" /></td>
                        </tr>*@
                </thead>
                <tbody>
                    <!-- ngRepeat: user in $data -->
                    <tr ng-repeat="user in planReportList">

                        <td>
                            {{user.BusinessEntity.GroupName}}
                        </td>
                        <td>
                            {{user.LOB.LOBName}}
                        </td>
                        <td>
                            {{user.ProfileSpecialty.Specialty.Name}}
                        </td>

                        <td>
                            {{user.ProfilePracticeLocation.Facility.FacilityName}} - {{user.ProfilePracticeLocation.Facility.Street}}, {{user.ProfilePracticeLocation.Facility.City}}, {{user.ProfilePracticeLocation.Facility.State}}, {{user.ProfilePracticeLocation.Facility.Country}}

                        </td>
                        <td>
                            {{user.InitialCredentialingDate | date:'MM-dd-yyyy'||'Not Available'}}
                        </td>
                        <td>
                            {{user.DecredentialingReason || "Not Available" }}
                        </td>
                        <td>
                            <span ng-if="user.DecredentialingReasonDocPath!=null">
                                <a target="_blank" href="@System.Configuration.ConfigurationManager.AppSettings["AppRoot"]{{user.DecredentialingReasonDocPath}}"><i class="fa fa-2x fa-file"></i></a>
                            </span>
                            <span ng-if="user.DecredentialingReasonDocPath==null">Not Available</span>
                        </td>
                    </tr>
                    <!-- end ngRepeat: user in data -->
                </tbody>
            </table>
        </fieldset>
    </div>
    @*<div class="container-fluid col-md-3 zero-padding-left-right-div form-style" ng-cloak>
            <fieldset>
                <legend>Timeline</legend>
                <div class="list-group" ng-cloak>
                    <a href="#" class="list-group-item" ng-show="isInitiated">
                        <i class="data-label">{{FullName}} <label>Credentialing Initiated</label> for {{planName}} on {{credInitDate | date:sort}}</i>
                    </a>
                    <a href="#" class="list-group-item" ng-show="isVerified">
                        <i class="data-label">{{FullName}} <label>PSV</label> done for {{planName}} on {{psvInitDate | date:sort}} </i>
                    </a>
                    <a href="#" class="list-group-item" ng-show="isCCMDone">
                        <i class="data-label">{{FullName}} <label>CCM Appointment</label> done for {{planName}} on {{ccmInitDate | date:sort}} </i>
                    </a>
                    <a href="#" class="list-group-item" ng-show="isLoaded">
                        <i class="data-label">{{FullName}} <label>Load to Plan</label> done for {{planName}} on {{loadToPlanInitDate | date:sort}} </i>
                    </a>
                    <a href="#" class="list-group-item" ng-show="isreCredentialed">
                        <i class="data-label">{{FullName}} <label>DeCredential Initiated</label> for {{planName}} on {{recredentialedDate | date:sort}} </i>
                    </a>
                    <a href="#" class="list-group-item" ng-show="isdeCredentialed">
                        <i class="data-label">{{FullName}} was <label>ReCredential Initiated</label> for {{planName}} on {{decredentialedDate | date:sort}} </i>
                    </a>
                    <a href="#" class="list-group-item" ng-show="isCompleted">
                        <i class="data-label">{{FullName}} was <label>Completed</label> for {{planName}} on {{completedDate | date:sort}} </i>
                    </a>
                </div>

            </fieldset>
        </div>*@

    <div class="col-lg-4">
        <div class="col-lg-12 form-style zero-padding-left-right-div">
            <fieldset>
                <div class="legend2 pull-right">
                    <a href="@System.Configuration.ConfigurationManager.AppSettings["AppRoot"]/Profile/MasterProfile/ProviderProfile/{{credentialingInfo.ProfileID}}" class="btn btn-xs btn-warning" toggle data-toggle="tooltip" data-placement="bottom" title="View Profile" target="_blank"><i class="glyphicon glyphicon-forward"></i></a>
                </div>
                <legend>
                    Details
                </legend>
                <div class="small col-lg-12 zero-padding-left-right-div">
                    <div class="col-lg-4">
                        <img src="{{credentialingInfo.Profile.ProfilePhotoPath}}" class="grow" style="height:40px">
                    </div>
                    <div class="col-lg-8 form-group zero-padding-left-right-div">
                        <div class="col-lg-12 form-group zero-padding-left-right-div">
                            <label class="control-label small zero-padding-left-right-div">Name:</label>
                            <i class="data-label ng-binding">{{credentialingInfo.Profile.PersonalDetail.Salutation}} {{credentialingInfo.Profile.PersonalDetail.FirstName}} {{credentialingInfo.Profile.PersonalDetail.LastName}}</i>
                        </div>
                        <div class="col-lg-12 form-group zero-padding-left-right-div">

                            <label class="control-label small zero-padding-left-right-div">NPI:</label>
                            <i class="data-label ng-binding">{{credentialingInfo.Profile.OtherIdentificationNumber.NPINumber}}</i>
                        </div>
                    </div>
                </div>
                <div class="small col-lg-12 zero-padding-left-right-div">
                    <div class="col-lg-4 form-group zero-padding-left-right-div">
                        <label class="control-label small zero-padding-left-right-div">Gender:</label>
                        <div> <i class="data-label ng-binding">{{credentialingInfo.Profile.PersonalDetail.Gender}}</i></div>
                    </div>
                    <div class="col-lg-8 form-group zero-padding-left-right-div">
                        <label class="control-label small zero-padding-left-right-div">Provider Type:</label>
                        <div> <i class="data-label ng-binding" ng-repeat="i in credentialingInfo.Profile.PersonalDetail.ProviderTitles" ng-if="i.Status=='Active'">{{i.ProviderType.Title}}<span ng-if="$index<credentialingInfo.Profile.PersonalDetail.ProviderTitles.length-1">,</span></i></div>
                    </div>
                </div>
            </fieldset>
        </div>
    </div>
</div>
