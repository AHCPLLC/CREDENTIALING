
<script src="~/Scripts/Lib/Jquery/jquery-1.11.0.js"></script>
<script src="~/Scripts/Lib/Angular/angular.min.js"></script>
<script src="~/Scripts/Lib/Angular-Chart/d3.min.js"></script>
<script src="~/Scripts/Lib/Angular-Chart/angular-charts.min.js"></script>
<script src="~/Scripts/Custom/DashBoard/PlanController.js"></script>

<script src="http://maps.google.com/maps/api/js?sensor=true" type="text/javascript"></script>
 
<style type="text/css">
    .chart {
        height: 290px;
    }
</style><!-- This css is to ensure that the google map contols (zoom bar etc) show and size correctly. -->
<style>
    #map_canvas img {
        max-width: none;
    }
</style>

<!-- This css is to give a nice big popup "info window" when a marker is clicked on the map -->
<style>
    .infoDiv {
        height: 100px;
        width: 200px;
        -webkit-user-select: none;
        background-color: white;
    }
</style>

<div id="page-wrapper" ng-app="planApp" ng-controller='PlanController'>
    <div class="container-fluid">
        <!-- Page Heading -->
        <div class="row">
            <div class="col-lg-12">
                <ol class="breadcrumb">
                    <li>
                        <i class="fa fa-dashboard"></i>
                        <a href="@System.Configuration.ConfigurationManager.AppSettings["AppRoot"]/Dashboard/Index">Dashboard</a>
                    </li>
                    <li class="active">
                        <i class="fa fa-list"></i> Plans
                    </li>
                </ol>
            </div>
        </div>
        <!-- /.row -->

        <div class="row">

            <div class="col-lg-8">
                <div class="panel panel-default">
                    @*<div class="panel-heading">
                        <h3 class="panel-title"><i class="fa fa-clock-o fa-fw"></i>Graphs</h3>
                    </div>*@
                    <div class="panel-body">
                        <div role="tabpanel">

                            <!-- Nav tabs -->
                            <ul class="nav nav-tabs" role="tablist">
                                <li role="presentation" class="active"><a href="#graph1" aria-controls="graph1" role="tab" data-toggle="tab" ng-click="ChangeGraph('specialty')">Specialty</a></li>
                                <li role="presentation" class=""><a href="graph2" aria-controls="graph1" role="tab" data-toggle="tab" ng-click="ChangeGraph('license')">License/Recredentialing</a></li>
                                <li role="presentation" class=""><a href="#graph1" aria-controls="graph1" role="tab" data-toggle="tab" ng-click="ChangeGraph('location')">Locations</a></li>
                            </ul>

                            <!-- Tab panes -->
                            <div class="tab-content">
                                @*<div role="tabpanel" class="tab-pane active" id="graph1">
                        <br />
                        <div class='charts pad'>
                            <div ac-chart="chartType" ac-data="data" ac-config="config" id='chart' class='chart'></div>
                        </div>
                    </div>*@
                                <div role="tabpanel" class="tab-pane active" id="graph2">

                                    @*<b>Chart type: </b>
                        <select ng-model='chartType' class='input'>
                            <option value="pie">Pie</option>
                            <option value="bar">Bar</option>
                            <option value="line">Line</option>
                            <option value="point">Point</option>
                            <option value="area">Area</option>
                        </select>*@
                                    @*<span ng-show="chartType==='pie'"><b>Radius</b> <input ng-model="config.innerRadius" size="4"></span>
                        <p></p>*@
                                    <br />
                                    <div class='charts pad'>
                                        <div ac-chart="chartType" ac-data="data" ac-config="config" id='chart' class='chart'></div>
                                    </div>

                                    @*<div class="text-right">
                            <a href="#">View All Activity <i class="fa fa-arrow-circle-right"></i></a>
                        </div>*@
                                </div>
                                @*<div role="tabpanel" class="tab-pane" id="graph2">
                        <img src="~/Content/Images/logo2.png" />
                        <div class="text-right">
                            <a href="#">View All Activity <i class="fa fa-arrow-circle-right"></i></a>
                        </div>
                    </div>*@
                            </div>
                        </div>

                    </div>

                </div>
            </div>
            <div class="col-lg-4">
                <div class="panel panel-default">
                    @*<div class="panel-heading">
                        <h3 class="panel-title"><i class="fa fa-clock-o fa-fw"></i>Feeds</h3>
                    </div>*@
                    <div class="panel-body">
                        <div class="list-group pre-scrollable">
                            <a href="#" class="list-group-item">
                                <i class="fa fa-fw fa-check-circle text-success"></i> Credentialing for provider - John Paul is submitted
                            </a>
                            <a href="#" class="list-group-item">
                                <i class="fa fa-fw fa-check-circle text-success"></i> Credentialing for provider - CRIDER NORMA to be recredentialised
                            </a>
                            <a href="#" class="list-group-item">
                                <i class="fa fa-fw fa-times-circle-o text-danger"></i> Credentialing for provider - WISNIEWSKI LESLIE is rejected
                            </a>
                            <a href="#" class="list-group-item">
                                <i class="fa fa-fw fa-check-circle text-success"></i> Credentialing for provider - CRIDER NORMA is verfied
                            </a>
                            <a href="#" class="list-group-item">
                                <i class="fa fa-fw fa-check-circle text-success"></i> Credentialing for provider - WISNIEWSKI LESLIE is submitted
                            </a>
                            <a href="#" class="list-group-item">
                                <i class="fa fa-fw fa-times-circle text-danger"></i> Credentialing for provider - CRIDER NORMA is rejected
                            </a>
                        </div>
                        <div class="text-right">

                        </div>
                    </div>
                </div>
            </div>
 
        </div>
        <div class="row">

            <div class="col-lg-12">
                <!-- Enclose the Javascript in a "section" so that it is rendered in the correct order after scripts have been loaded etc -->
                <div class="panel panel-default">                    
                    <div class="panel-body">
                        @*<div ac-chart="chartType" ac-data="data" ac-config="config" id='chart3' class='chart col-lg-4' ng-show="ChangeGraph('location')"></div>*@
                        <div id="map_canvas" class="col-lg-12" style="height: 600px;"></div>
                        </div>
                    </div>
                </div>

                <div class="clearfix"></div>
                <br />

            </div>
        </div>
                    <!-- /.row -->
                    @*<div class="row">
                <div class="col-lg-12">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3 class="panel-title"><i class="fa fa-money fa-fw"></i>Grids</h3>
                        </div>
                        <div class="panel-body">
                            <div role="tabpanel">
                                <!-- Nav tabs -->
                                <ul class="nav nav-tabs" role="tablist">
                                    <li role="presentation" class="active"><a href="#grid1" aria-controls="grid1" role="tab" data-toggle="tab">Grid 1</a></li>
                                    <li role="presentation"><a href="#grid2" aria-controls="grid2" role="tab" data-toggle="tab">Grid 2</a></li>
                                </ul>
                                <!-- Tab panes -->
                                <div class="tab-content">
                                    <div role="tabpanel" class="tab-pane active" id="grid1">
                                        <div class="table-responsive">
                                            <table class="table table-bordered table-hover table-striped">
                                                <thead>
                                                    <tr>
                                                        <th>Plan Name</th>
                                                        <th>Insurance Company Name</th>
                                                        <th>Plan Type</th>
                                                        <th>Plan Status</th>
                                                        <th>No. Of Provider Associated</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr class="success">
                                                        <td>Plan 1</td>
                                                        <td>Insurance Company 1</td>
                                                        <td>Plan Type 1</td>
                                                        <td>Active</td>
                                                        <td>44</td>
                                                    </tr>
                                                    <tr class="danger">
                                                        <td>Plan 2</td>
                                                        <td>Insurance Company 2</td>
                                                        <td>Plan Type 2</td>
                                                        <td>Deactive</td>
                                                        <td>182</td>
                                                    </tr>
                                                    <tr class="success">
                                                        <td>Plan 1</td>
                                                        <td>Insurance Company 1</td>
                                                        <td>Plan Type 1</td>
                                                        <td>Active</td>
                                                        <td>22</td>
                                                    </tr>
                                                    <tr class="active">
                                                        <td>Plan 4</td>
                                                        <td>Insurance Company 4</td>
                                                        <td>Plan Type 4</td>
                                                        <td>Draft</td>
                                                        <td>97</td>
                                                    </tr>
                                                    <tr class="danger">
                                                        <td>Plan 5</td>
                                                        <td>Insurance Company 5</td>
                                                        <td>Plan Type 5</td>
                                                        <td>Deactive</td>
                                                        <td>33</td>
                                                    </tr>
                                                    <tr class="success">
                                                        <td>Plan 6</td>
                                                        <td>Insurance Company 6</td>
                                                        <td>Plan Type 6</td>
                                                        <td>Active</td>
                                                        <td>23</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="text-right">
                                            <a href="#">View More <i class="fa fa-arrow-circle-right"></i></a>
                                        </div>
                                    </div>
                                    <div role="tabpanel" class="tab-pane" id="grid2">
                                        <div class="table-responsive">
                                            <table class="table table-bordered table-hover table-striped">
                                                <thead>
                                                    <tr>
                                                        <th>Plan_Name</th>
                                                        <th>Insurance Company Name</th>
                                                        <th>Plan Type</th>
                                                        <th>Plan Status</th>
                                                        <th>No. Of Provider Associated</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr class="success">
                                                        <td>Plan 1</td>
                                                        <td>Insurance Company 1</td>
                                                        <td>Plan Type 1</td>
                                                        <td>Active</td>
                                                        <td>44</td>
                                                    </tr>
                                                    <tr class="danger">
                                                        <td>Plan 2</td>
                                                        <td>Insurance Company 2</td>
                                                        <td>Plan Type 2</td>
                                                        <td>Deactive</td>
                                                        <td>182</td>
                                                    </tr>
                                                    <tr class="success">
                                                        <td>Plan 1</td>
                                                        <td>Insurance Company 1</td>
                                                        <td>Plan Type 1</td>
                                                        <td>Active</td>
                                                        <td>22</td>
                                                    </tr>
                                                    <tr class="active">
                                                        <td>Plan 4</td>
                                                        <td>Insurance Company 4</td>
                                                        <td>Plan Type 4</td>
                                                        <td>Draft</td>
                                                        <td>97</td>
                                                    </tr>
                                                    <tr class="danger">
                                                        <td>Plan 5</td>
                                                        <td>Insurance Company 5</td>
                                                        <td>Plan Type 5</td>
                                                        <td>Deactive</td>
                                                        <td>33</td>
                                                    </tr>
                                                    <tr class="success">
                                                        <td>Plan 6</td>
                                                        <td>Insurance Company 6</td>
                                                        <td>Plan Type 6</td>
                                                        <td>Active</td>
                                                        <td>23</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="text-right">
                                            <a href="#">View More <i class="fa fa-arrow-circle-right"></i></a>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>*@
                    <!-- /.row -->
                </div>
</div>

<script type="text/javascript">

    //This code tells the browser to execute the "Initialize" method only when the complete document model has been loaded.
        Initialize();

    // Where all the fun happens
    function Initialize() {

        // Google has tweaked their interface somewhat - this tells the api to use that new UI
        google.maps.visualRefresh = true;
        var Florida = new google.maps.LatLng(28.5536, -82.3886);

        // These are options that set initial zoom level, where the map is centered globally to start, and the type of map to show
        var mapOptions = {
            zoom: 9,
            center: Florida,
            mapTypeId: google.maps.MapTypeId.G_NORMAL_MAP
        };

        // This makes the div with id "map_canvas" a google map
        var map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);

        // This shows adding a simple pin "marker" - this happens to be the Tate Gallery in Liverpool!
        var myLatlng = new google.maps.LatLng(28.4789, -82.5478);

        var marker = new google.maps.Marker({
            position: myLatlng,
            map: map,
            title: 'You are here'
        });

        //var sourceMarker = new google.maps.Marker({
        //    position: myLatlng,
        //    map: map,
        //    title: 'You are here'
        //});

        // You can make markers different colors...  google it up!
        marker.setIcon('http://maps.google.com/mapfiles/ms/icons/blue-dot.png')

        //sourceMarker.setIcon('http://maps.google.com/mapfiles/ms/icons/blue-dot.png')

        // a sample list of JSON encoded data of places to visit in Liverpool, UK
        // you can either make up a JSON list server side, or call it from a controller using JSONResult
        var data = [
                  { "Id": 1, "PlaceName": "Brooksville", "Address":"920, West Jefferson Street", "AvailableProviders": "51", "GeoLong": "28.5536", "GeoLat": "-82.3886" },
                  { "Id": 2, "PlaceName": "Largo", "Address": "13220, Belcher Road S #11", "AvailableProviders": "10", "GeoLong": "27.9092", "GeoLat": "-82.7875" },
                  { "Id": 3, "PlaceName": "Beverly Hills", "Address": "6279, North Lecanto Highway", "AvailableProviders": "22", "GeoLong": "28.9175", "GeoLat": "-82.4561" },
                  { "Id": 4, "PlaceName": "Spring Hill", "Address": "14690, Spring Hill Drive", "AvailableProviders": "45", "GeoLong": "28.4789", "GeoLat": "-82.5478" },
                  { "Id": 5, "PlaceName": "Homosassa", "Address": "8365, South Suncoast Boulevard", "AvailableProviders": "34", "GeoLong": "28.7833", "GeoLat": "-82.6172" },
                  { "Id": 6, "PlaceName": "Hudson", "Address": "13944, Lakeshore Boulevard", "AvailableProviders": "23", "GeoLong": "28.3611", "GeoLat": "-82.6872" },
                  { "Id": 7, "PlaceName": "Inverness", "Address": "1903, Highway 44 West", "AvailableProviders": "15", "GeoLong": "28.8392", "GeoLat": "-82.3403" }
        ];

        // Using the JQuery "each" selector to iterate through the JSON list and drop marker pins
        $.each(data, function (i, item) {
            var marker = new google.maps.Marker({
                'position': new google.maps.LatLng(item.GeoLong, item.GeoLat),
                'map': map,
                'title': item.PlaceName
            });

            // Make the marker-pin blue!
            marker.setIcon('http://maps.google.com/mapfiles/ms/icons/red-dot.png')

            // put in some information about each json object - in this case, the opening hours.
            var infowindow = new google.maps.InfoWindow({
                content: "<div class='infoDiv'><div><h6>" + item.Address + "</h6></div><div><h4>" + item.PlaceName + "</h4></div>" + "<div><h5>Available Providers: " + item.AvailableProviders + "</h5></div></div>"
            });

            // finally hook up an "OnClick" listener to the map so it pops up out info-window when the marker-pin is clicked!
            google.maps.event.addListener(marker, 'click', function () {
                infowindow.open(map, marker);
            });

            google.maps.event.addListener(map, 'click', function () {
                infowindow.close(map, marker);
            });

            //var sourceinfowindow = new google.maps.InfoWindow({
            //    content: "<div class='infoDiv'><h2>You are here</h2></div>"
            //});

            //google.maps.event.addListener(sourceMarker, 'click', function () {
            //    sourceinfowindow.open(map, sourceMarker);
            //});

        })
    }

</script>
