@model AHC.CD.WebUI.MVC.Areas.Profile.Models.PracticeLocationInformation.ProviderPracticeOfficeHourViewModel
@using AHC.CD.WebUI.MVC.Areas.Profile.Attributes;

<div ng-if="visibilitySecondControl == 'OfficeHoursEdit'" id="OfficeHourDiv">
    <fieldset>
        <legend>
            Office Hours
        </legend>
        <form id="OfficeHourForm{{$index}}">
            <span ng-if="PracticeLocationDetail.PracticeLocationDetailID">
                @Html.HiddenFor(model => model.PracticeLocationDetailID, new { ng_value = "PracticeLocationDetail.PracticeLocationDetailID" })
            </span>
            <span ng-if="PracticeLocationDetail.OfficeHour.PracticeOfficeHourID">
                @Html.HiddenFor(model => model.PracticeOfficeHourID, new { ng_value = "PracticeLocationDetail.OfficeHour.PracticeOfficeHourID" })
            </span>
            <div class="form-group ">
                <div class="col-md-12 zero-padding-left-right-div">
                    <div class="col-md-2 form-group">
                        <label class="control-label small">Day</label>
                    </div>
                    <div class="col-md-10">
                        <div class="col-md-4 form-group">
                            <label class="control-label small">Start Time</label>
                        </div>
                        <div class="col-md-4 form-group">
                            <label class="control-label small">End Time</label>
                        </div>
                        <div class="col-md-4 form-group">
                            <label class="control-label small">Actions</label>
                        </div>
                    </div>
                </div>
                <div id="providerofficehoursdiv" class="col-md-12 zero-padding-left-right-div" ng-repeat="PracticeDay in PracticeLocationDetail.OfficeHour.PracticeDays">
                    <input type="hidden" name="PracticeDays[{{$index}}].PracticeDayID" value="{{PracticeDay.PracticeDayID}}" ng-if="PracticeDay.PracticeDayID">
                    <input type="hidden" name="PracticeDays[{{$index}}].DayName" value="{{PracticeDay.DayName}}" />
                    <input type="hidden" name="PracticeDays[{{$index}}].DayOfWeek" value="{{PracticeDay.DayOfWeek}}" />
                    <input type="hidden" name="PracticeDays[{{$index}}].DayOff" value="{{PracticeDay.DayOff}}" />
                    <div class="col-md-2 form-group">
                        <label class="btn btn-xs btn-default btn-circle" ng-class="{'YES':'btn-primary','NO':'btn-default'}[PracticeDay.DayOff]" ng-click="dayOffToggel(PracticeDay)" tooltip data-toggle="tooltip" data-placement="left" title="Day Off ?"><i class="fa fa-power-off"></i></label>
                        <label class="control-label small">{{PracticeDay.DayName}}</label>
                    </div>
                    <div class="col-md-10">
                        <!-- ngRepeat: t in Days[0].Times -->
                        <div ng-repeat="DailyHour in PracticeDay.DailyHours" class="col-md-12 zero-padding-left-right-div ng-scope">
                            <input type="hidden" name="PracticeDays[{{$parent.$index}}].DailyHours[{{$index}}].PracticeDailyHourID" value="{{DailyHour.PracticeDailyHourID}}">
                            <div class="col-md-4 form-group">
                                <div class="input-group input-group-sm">

                                    <input type="text" class="form-control input-sm samay" name="PracticeDays[{{$parent.$index}}].DailyHours[{{$index}}].StartTime" id="startTime_{{$parent.$index}}{{$index}}" value="{{DailyHour.StartTime=='Day Off' ? '08:30' : DailyHour.StartTime}}" samay-time-picker readonly="" ng-show="PracticeDay.DayOff=='NO'" ng-disabled="PracticeDay.DayOff=='YES'">
                                    <input type="text" class="form-control input-sm" name="PracticeDays[{{$parent.$index}}].DailyHours[{{$index}}].StartTime" id="startTime_{{$parent.$index}}{{$index}}" value="Day Off" readonly="" ng-show="PracticeDay.DayOff=='YES'" ng-disabled="PracticeDay.DayOff=='YES' && $index > 0">
                                    <span class="input-group-btn">
                                        <button class="btn btn-info" type="button" samay-toggel ng-disabled="PracticeDay.DayOff=='YES'">
                                            <i class="fa fa-edit"></i>
                                        </button>
                                    </span>
                                </div>
                            </div>
                            <div class="col-md-4 form-group">
                                <div class="input-group input-group-sm">

                                    <input type="text" class="form-control input-sm samay" name="PracticeDays[{{$parent.$index}}].DailyHours[{{$index}}].EndTime" id="endTime_{{$parent.$index}}{{$index}}" value="{{DailyHour.EndTime=='Day Off' ? '16:30' : DailyHour.EndTime}}" samay-time-picker readonly="" ng-show="PracticeDay.DayOff=='NO'" ng-disabled="PracticeDay.DayOff=='YES'">
                                    <input type="text" class="form-control input-sm" name="PracticeDays[{{$parent.$index}}].DailyHours[{{$index}}].EndTime" id="startTime_{{$parent.$index}}{{$index}}" value="Day Off" readonly="" ng-show="PracticeDay.DayOff=='YES'" ng-disabled="PracticeDay.DayOff=='YES' && $index > 0">
                                    <span class="input-group-btn">
                                        <button class="btn btn-info" type="button" samay-toggel ng-disabled="PracticeDay.DayOff=='YES'">
                                            <i class="fa fa-edit"></i>
                                        </button>
                                    </span>
                                </div>
                            </div>
                            <div class="col-md-4 form-group">
                                <label ng-show="$index==PracticeDay.DailyHours.length-1" class="btn btn-xs btn-success" ng-click="addDailyHour(PracticeDay.DailyHours)" ng-if="PracticeDay.DayOff=='NO'"><i class="fa fa-plus-circle"></i></label>
                                <label ng-show="$index>0" class="btn btn-xs btn-danger" ng-click="removeDailyHour(PracticeDay.DailyHours, $index)" ng-if="PracticeDay.DayOff=='NO'">  <i class="fa fa-minus-circle"></i></label>
                            </div>
                            <span class="col-md-12 text-danger" id="msg_{{$parent.$index}}{{$index}}" style="color: #b94a48;"></span>
                        </div><!-- end ngRepeat: t in Days[0].Times -->
                    </div>
                </div>

                <div class="col-md-12">
                    <div class="form-group">
                        <div class="col-md-2 remove-left-padding">
                            @Html.LabelFor(model => model.AnyTimePhoneCoverageYesNoOption, new { @class = "control-label small" })
                        </div>

                        <div class="col-md-10">
                            @foreach (var value in Enum.GetValues(typeof(AHC.CD.Entities.MasterData.Enums.YesNoOption)))
                            {
                                <label class="radio-inline">
                                    @Html.RadioButtonFor(model => model.AnyTimePhoneCoverageYesNoOption, (int)value, new { data_ng_model = "tempSecondObject.AnyTimePhoneCoverageYesNoOption" }) @value.GetType().GetMember(value.ToString())[0].GetCustomAttributesData()[0].ToString().Split('"')[1]
                                </label>
                            }
                        </div>
                        @Html.ValidationMessageFor(model => model.AnyTimePhoneCoverageYesNoOption, "", new { @class = "text-danger" })
                    </div>
                </div>
                <div ng-if="tempSecondObject.AnyTimePhoneCoverageYesNoOption=='1'" class="col-md-12 zero-padding-left-right-div">
                    <div class="form-group col-md-3">

                        @Html.LabelFor(model => model.AnsweringServiceYesNoOption, new { @class = "control-label small" })
                        <div>
                            @foreach (var value in Enum.GetValues(typeof(AHC.CD.Entities.MasterData.Enums.YesNoOption)))
                            {
                                <label class="radio-inline">
                                    @Html.RadioButtonFor(model => model.AnsweringServiceYesNoOption, (int)value, new { data_ng_model = "tempSecondObject.AnsweringServiceYesNoOption" }) @value.GetType().GetMember(value.ToString())[0].GetCustomAttributesData()[0].ToString().Split('"')[1]
                                </label>
                            }
                        </div>
                        @Html.ValidationMessageFor(model => model.AnsweringServiceYesNoOption, "", new { @class = "text-danger" })
                    </div>
                    <div class="form-group col-md-3">
                        @Html.LabelFor(model => model.VoiceMailToAnsweringServiceYesNoOption, new { @class = "control-label small" })
                        <div>
                            @foreach (var value in Enum.GetValues(typeof(AHC.CD.Entities.MasterData.Enums.YesNoOption)))
                            {
                                <label class="radio-inline">
                                    @Html.RadioButtonFor(model => model.VoiceMailToAnsweringServiceYesNoOption, (int)value, new { data_ng_model = "tempSecondObject.VoiceMailToAnsweringServiceYesNoOption" }) @value.GetType().GetMember(value.ToString())[0].GetCustomAttributesData()[0].ToString().Split('"')[1]
                                </label>
                            }
                        </div>
                        @Html.ValidationMessageFor(model => model.VoiceMailToAnsweringServiceYesNoOption, "", new { @class = "text-danger" })
                    </div>
                    <div class="form-group col-md-3">
                        @Html.LabelFor(model => model.VoiceMailOtherYesNoOption, new { @class = "control-label small" })
                        <div>
                            @foreach (var value in Enum.GetValues(typeof(AHC.CD.Entities.MasterData.Enums.YesNoOption)))
                            {
                                <label class="radio-inline">
                                    @Html.RadioButtonFor(model => model.VoiceMailOtherYesNoOption, (int)value, new { data_ng_model = "tempSecondObject.VoiceMailOtherYesNoOption" }) @value.GetType().GetMember(value.ToString())[0].GetCustomAttributesData()[0].ToString().Split('"')[1]
                                </label>
                            }
                        </div>
                        @Html.ValidationMessageFor(model => model.VoiceMailOtherYesNoOption, "", new { @class = "text-danger" })
                    </div>
                    <div class="form-group col-md-3">
                        @Html.LabelFor(model => model.AfterHoursTelephoneNumber, htmlAttributes: new { @class = "control-label small" })
                        <div>
                            <span ng-if="!tempSecondObject.CountryCode" ng-init="tempSecondObject.CountryCode='+1'"></span>
                            <div class="input-group">
                                <div class="input-group-btn">
                                    <button type="button" class="btn btn-default countryCodeClass" tooltip data-toggle="tooltip" data-placement="top" title="Select Country Code" ng-click="showContryCodeDiv('CountryCodeDiv')"> {{tempSecondObject.CountryCode}} <span class="caret"></span></button>
                                </div>
                                <div class="countryDailCodeContainer popover fade bottom in" role="tooltip" id='CountryCodeDiv'>
                                    <div class="arrow"></div>
                                    <h3 class="popover-title">Select Country Dial Code</h3>
                                    <div class="popover-content">
                                        <select ng-model="tempSecondObject.CountryCode" name="CountryCode">
                                            <option ng-repeat="code in CountryDialCodes" value="{{code.dial_code}}" ng-selected="code.dial_code == tempSecondObject.CountryCode">{{code.name}}({{code.dial_code}})</option>
                                        </select>
                                    </div>
                                </div>
                                @Html.EditorFor(model => model.Number, new { htmlAttributes = new { @class = "form-control", data_ng_model = "tempSecondObject.Number", tooltip = true, data_toggle = "tooltip", data_placement = "top", title = "For example if your number is (352)515-3633, then please enter it as 3525153633" } })
                            </div>
                            @Html.ValidationMessageFor(model => model.CountryCode, "", new { @class = "text-danger" })
                            @Html.ValidationMessageFor(model => model.Number, "", new { @class = "text-danger" })
                        </div>
                    </div>
                </div>

                <div class="col-lg-12"></div>

                <div class="clearfix"></div>
                <div ng-show="activeMessageDiv=='providerPracticeOfficeHoursErrorMsg'" class="alert alert-danger" role="alert">
                    <button ng-click="closeAlertMessage('')" class="close"><span>&times;</span></button>
                    {{messageDesc}}
                </div>
                <div class="clearfix"></div>
                
                <div class="col-md-12 form-group">
                    <button type="button" class="btn btn-warning btn-sm " ng-click="OfficeHoursEdit=false; operateSecondCancelControl('OfficeHourDiv'); hideClock();">Cancel</button>
                    <button type="button" class="btn btn-success btn-sm pull-right " ng-click="validateDailyHours(PracticeLocationDetail.OfficeHour.PracticeDays, PracticeLocationDetail,'ProviderOfficeHour' , $index)">Save</button>
                </div>

            </div>
        </form>
    </fieldset>
</div>
