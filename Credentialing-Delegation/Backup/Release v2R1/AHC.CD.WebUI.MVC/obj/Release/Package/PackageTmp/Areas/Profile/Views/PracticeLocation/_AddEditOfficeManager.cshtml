@model AHC.CD.WebUI.MVC.Areas.Profile.Models.PracticeLocationInformation.FacilityEmployeeViewModel

<div ng-if="visibilitySecondControl == 'BussinessManagerEdit'" id="BussinessManagerEditDiv">
   
        <fieldset>
            <legend>
                Office manager/Business Office Staff Contact
            </legend>
            <form id="BusinessOfficeContactPersonForm{{$index}}">
                <div class="col-lg-12">
                    <div class="col-md-12">
                        @Html.ValidationSummary(true, "", new { @class = "text-danger validSummary" })
                        <span ng-if="PracticeLocationDetails[0].PracticeLocationDetailID">
                            @Html.HiddenFor(model => model.PracticeLocationDetailID, new { id = "PracticeLocationDetailID", Value = "{{PracticeLocationDetails[0].PracticeLocationDetailID}}", data_ng_model = "PracticeLocationDetails[0].PracticeLocationDetailID" })
                        </span>
                        <span ng-if="primaryPracticeLocations.OfficeStaffContact.BusinessOfficeContactPersonID">
                            @Html.HiddenFor(model => model.EmployeeID, new { id = "BusinessOfficeContactPersonID", ng_value = "tempSecondObject.BusinessOfficeContactPersonID", data_ng_model = "PracticeLocationDetail.BusinessOfficeManagerOrStaff.BusinessOfficeContactPersonID" })
                        </span>
                        <div class="col-lg-12">
                            <div class="col-md-6">
                                <label class="control-label small ">Use Existing Office Manager Details</label>
                                <div class="radio" ng-init="manager = 'Yes'">
                                    <label class="radio-inline">
                                        <input type="radio" name="manager" ng-model="manager" ng-change="changemade()" value="Yes"> Yes
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" name="manager" ng-model="manager" ng-change="changemade(); clear(); mmanager=''" value="No"> No
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label class="control-label small ">Select Office Manager</label>
                                <select class="form-control input-sm" data-ng-model="mManager" ng-change="provideData(mManager, managers)" ng-disabled="manager=='No'">
                                    <option ng-repeat="mManager in managers | unique: 'EmailAddress' track by $index" value="{{mManager.EmployeeID}}">{{mManager.FirstName}} {{mManager.LastName}} - {{mManager.EmailAddress}}</option>
                                </select>
                                @*<select class="form-control input-sm" data-ng-model="mManager" ng-value="mManager" ng-options="mManager.FirstName +' '+ mManager.LastName +' - '+mManager.EmailAddress  for mManager in managers | unique: 'EmailAddress' track by $index" ng-change="provideData(mManager)" ng-disabled="manager=='No'"></select>*@
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <br />
                    <fieldset id="abc" @*ng-disabled="manager=='Yes'"*@>
                        <div class="col-md-12">
                            <div class="col-lg-4 form-group">
                                @Html.LabelFor(model => model.FirstName, new { @class = "control-label small" })
                                <div>
                                    @Html.TextBoxFor(model => model.FirstName, new { @class = "form-control input-sm", placeholder = "First Name", data_ng_model = "tempSecondObject.FirstName" })
                                </div>
                                @Html.ValidationMessageFor(model => model.FirstName, "", new { @class = "text-danger" })
                            </div>
                            <div class="col-lg-4 form-group">
                                @Html.LabelFor(model => model.MiddleName, new { @class = "control-label small" })
                                <div>
                                    @Html.TextBoxFor(model => model.MiddleName, new { @class = "form-control input-sm", placeholder = "Middle Name", data_ng_model = "tempSecondObject.MiddleName" })
                                </div>
                                @Html.ValidationMessageFor(model => model.MiddleName, "", new { @class = "text-danger" })
                            </div>
                            <div class="col-lg-4 form-group">
                                @Html.LabelFor(model => model.LastName, new { @class = "control-label small" })
                                <div>
                                    @Html.TextBoxFor(model => model.LastName, new { @class = "form-control input-sm", placeholder = "Last Name", data_ng_model = "tempSecondObject.LastName" })
                                </div>
                                @Html.ValidationMessageFor(model => model.LastName, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="clearfix"></div>
                        <div class="col-md-12">
                            <div class="form-group col-md-4">
                                @Html.LabelFor(model => model.Telephone, htmlAttributes: new { @class = "control-label small" })
                                <div>
                                    <span ng-if="!tempSecondObject.CountryCodeTelephone" ng-init="tempSecondObject.CountryCodeTelephone='+1'"></span>
                                    <div class="input-group">
                                        <div class="input-group-btn">
                                            <button type="button" class="btn btn-default countryCodeClass" ng-click="showContryCodeDiv('TelephoneCountryCode'+$index)"> {{tempSecondObject.CountryCodeTelephone}} <span class="caret"></span></button>
                                        </div>
                                        <div class="countryDailCodeContainer popover fade bottom in" role="tooltip" id='TelephoneCountryCode{{$index}}'>
                                            <div class="arrow"></div>
                                            <h3 class="popover-title">Select Country Dial Code</h3>
                                            <div class="popover-content">
                                                <select ng-model="tempSecondObject.CountryCodeTelephone" name="CountryCodeTelephone">
                                                    <option ng-repeat="code in CountryDialCodes" value="{{code.dial_code}}" ng-selected="code.dial_code == tempSecondObject.CountryCodeTelephone">{{code.name}}({{code.dial_code}})</option>
                                                </select>
                                            </div>
                                        </div>
                                        @Html.EditorFor(model => model.Telephone, new { htmlAttributes = new { @class = "form-control", data_ng_model = "tempSecondObject.Telephone" } })
                                    </div>
                                    @Html.ValidationMessageFor(model => model.CountryCodeTelephone, "", new { @class = "text-danger" })
                                    @Html.ValidationMessageFor(model => model.Telephone, "", new { @class = "text-danger" })
                                </div>
                            </div>

                            <div class="form-group col-md-4">
                                @Html.LabelFor(model => model.Fax, new { @class = "control-label small" })
                                <div>
                                    <span ng-if="!tempSecondObject.CountryCodeFax" ng-init="tempSecondObject.CountryCodeFax='+1'"></span>
                                    <div class="input-group">
                                        <div class="input-group-btn">
                                            <button type="button" class="btn btn-default countryCodeClass" ng-click="showContryCodeDiv('CountryCodeFax'+$index)"> {{tempSecondObject.CountryCodeFax}} <span class="caret"></span></button>
                                        </div>
                                        <div class="countryDailCodeContainer popover fade bottom in" role="tooltip" id='CountryCodeFax{{$index}}'>
                                            <div class="arrow"></div>
                                            <h3 class="popover-title">Select Country Dial Code</h3>
                                            <div class="popover-content">
                                                <select ng-model="tempSecondObject.CountryCodeFax" name="CountryCodeFax">
                                                    <option ng-repeat="code in CountryDialCodes" value="{{code.dial_code}}" ng-selected="code.dial_code == tempSecondObject.CountryCodeFax">{{code.name}}({{code.dial_code}})</option>
                                                </select>
                                            </div>
                                        </div>
                                        @Html.EditorFor(model => model.Fax, new { htmlAttributes = new { @class = "form-control", data_ng_model = "tempSecondObject.Fax" } })
                                    </div>
                                    @Html.ValidationMessageFor(model => model.CountryCodeFax, "", new { @class = "text-danger" })
                                    @Html.ValidationMessageFor(model => model.Fax, "", new { @class = "text-danger" })
                                </div>
                            </div>

                            <div class="col-lg-4 form-group">
                                @Html.LabelFor(model => model.EmailAddress, new { @class = "control-label small" })
                                <div>
                                    @Html.TextBoxFor(model => model.EmailAddress, new { @class = "form-control input-sm", placeholder = "E-Mail Address", data_ng_model = "tempSecondObject.EmailAddress" })
                                </div>
                                @Html.ValidationMessageFor(model => model.EmailAddress, "", new { @class = "text-danger" })
                            </div>

                        </div>
                    </fieldset>
                    <div class="clearfix"></div>
                    <div ng-show="activeMessageDiv=='alertOfficeManager'" class="alert alert-danger" role="alert">
                        <button ng-click="closeAlertMessage('')" class="close"><span>&times;</span></button>
                        <i class="fa fa-2x fa-arrow-up"></i> {{messageDesc}}
                    </div>
                    <div class="col-lg-12">
                        <div class="control-group">
                            <button class="btn btn-warning btn-sm" ng-click="tempSecondObject={};operateSecondCancelControl('');">Cancel</button>
                            <button class="btn btn-success btn-sm pull-right" ng-click="saveOfficeManager(PracticeLocationDetail,$index)">Save</button>
                        </div>
                    </div>
                </div>
            </form>
        </fieldset>
    
</div>