
<br />
<div class="panel-group" ng-controller="OrgInfoAppCtrl">
    <div class="panel-default">
        <div class="form-style">
            <fieldset>
                <legend>
                    Contract Information
                </legend>

                <div class="legend2 pull-right">                 
                    <button type="button" class="btn btn-xs btn-default" data-container="body" data-toggle="popover" data-placement="left" data-trigger="hover" data-content="Please make the current contract inactive to add a new contract"><i class="fa fa-question"></i></button>
                    <button ng-if="contractInfoes[0]" class="btn btn-xs btn-primary" ng-click=" EditContract($index+'_editci',contractInfoes[0])" tooltip data-toggle="tooltip" data-placement="top" title="Edit"><i class="fa fa-edit"></i></button>
                    <button type="button" class="btn btn-xs btn-success" ng-click="AddContract('addci')" data-container="body" data-toggle="popover" data-placement="left" data-trigger="focus" ng-disabled="EnableContract()" data-content="Add New "><i class="fa fa-plus"></i></button>
                </div>

                <div ng-if="contractInfoes[0] && visibilityControl!=($index+'_editci')&&visibilityControl!='addci'" class="col-lg-12 zero-padding-left-right-div">

                    @Html.Partial("~/Areas/Profile/Views/ContractInformation/_ViewContractInformation.cshtml")

                </div>

                <div ng-show="visibilityControl==('_editci')" class="col-lg-12 zero-padding-left-right-div" id="ContractInformationEditDiv">
                    @Html.Partial("~/Areas/Profile/Views/ContractInformation/_EditContractInformation.cshtml")
                </div>

                <div ng-show="visibilityControl=='addci'" class="col-lg-12 zero-padding-left-right-div" id="ContractInformationAddDiv">
                    @Html.Partial("~/Areas/Profile/Views/ContractInformation/_EditContractInformation.cshtml")
                </div>


            </fieldset>

            <fieldset>

                <legend>
                    Group Information
                </legend>

                <div class="col-lg-12 zero-padding-left-right-div">

                    <table ng-if="showAddGroup && contractInfoes[0].ContractGroupInfoes.length==0" class="table table-bordered table-condensed customtbodyStyle table-striped">
                        <thead>
                            <tr>
                                <td>
                                    No Data Available for Contract Group Information

                                    <span>Please click on <button class="btn btn-xs btn-success" ng-click="AddGroup('addgi',contractInfoes[0].ContractInfoID)" tooltip data-toggle="tooltip" data-placement="top" title="Add New"><i class="fa fa-plus"></i></button> to add new Contract Group Information</span>

                                </td>

                            </tr>
                        </thead>
                    </table>



                    <table ng-show="contractInfoes[0].ContractGroupInfoes.length> 0" class="table table-bordered table-condensed customtbodyStyle table-striped">
                        <thead>
                            <tr>
                                <th>Group Name</th>
                                <th>Start Date</th>
                                <th>End Date</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody ng-repeat="gi in contractInfoes[0].ContractGroupInfoes">
                            <tr>
                                <td ng-show="gi.PracticingGroup.Group.Name">{{gi.PracticingGroup.Group.Name}}</td>
                                <td ng-show="!gi.PracticingGroup.Group.Name">Not Available</td>

                                <td ng-show="gi.JoiningDate">{{gi.JoiningDate| date:'MM-dd-yyyy'}}</td>
                                <td ng-show="!gi.JoiningDate">Not Available</td>

                                <td ng-show="gi.ExpiryDate">{{gi.ExpiryDate| date:'MM-dd-yyyy'}}</td>
                                <td ng-show="!gi.ExpiryDate">Not Available</td>

                                <td ng-show="gi.ContractGroupStatus">{{gi.ContractGroupStatus}}</td>
                                <td ng-show="!gi.ContractGroupStatus">Not Available</td>

                                <td>

                                    <button class="btn btn-xs btn-default" ng-click="operateViewAndAddControl($index+'_viewgi')" tooltip data-toggle="tooltip" data-placement="left" title="View"><i class="fa fa-eye"></i></button>
                                    <button class="btn btn-xs btn-primary" ng-click="EditGroup($index+'_editgi',gi, contractInfoes[0].ContractInfoID)" tooltip data-toggle="tooltip" data-placement="top" title="Edit"><i class="fa fa-edit"></i></button>
                                    <button ng-if="$index == contractInfoes[0].ContractGroupInfoes.length-1" class="btn btn-xs btn-success" ng-click="AddGroup('addgi',contractInfoes[0].ContractInfoID)" tooltip data-toggle="tooltip" data-placement="left" title="Add New"><i class="fa fa-plus"></i></button>

                                </td>

                            </tr>

                            <tr ng-show="visibilityControl==($index+'_editgi')">
                                <td colspan="6" id="ContractGroupInformationEditDiv{{$index}}" class="editTableDataStyle">
                                    <fieldset>
                                        <legend>
                                            Edit Group Information
                                        </legend>

                                        @Html.Partial("~/Areas/Profile/Views/ContractInformation/_EditGroupInformation.cshtml")
                                    </fieldset>

                                </td>
                            </tr>

                            <tr ng-show="visibilityControl==($index+'_viewgi')" class="editTableDataStyle">
                                <td colspan="6">
                                    @Html.Partial("~/Areas/Profile/Views/ContractInformation/_ViewGroupInformation.cshtml")
                                </td>

                            </tr>

                        </tbody>
                    </table>

                    <div ng-show="activeMessageDiv=='addedNewContractGroupInformation'" class="alert alert-success" role="alert">
                        <button ng-click="closeAlertMessage('')" class="close"><span>&times;</span></button>
                        <i class="fa fa-2x fa-arrow-up"></i> {{messageDesc}}
                    </div>

                </div>

                <fieldset ng-show="visibilityControl=='addgi'">
                    <legend>
                        Add Contract Information
                    </legend>
                    <div id="newContractInformationDiv">
                        @Html.Partial("~/Areas/Profile/Views/ContractInformation/_EditGroupInformation.cshtml")
                    </div>
                </fieldset>

            </fieldset>
        </div>
    </div>
</div>