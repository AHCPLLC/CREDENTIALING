@using PortalTemplate.Helper
@model IEnumerable<PortalTemplate.Areas.UM.Models.ViewModels.History.MemberHistoriesViewModel>
@using PortalTemplate.Areas.UM.CustomHelpers

<p-script filepath="~/Resources/Data/HistoryData.js"></p-script>
<p-script filepath="~/Areas/UM/Scripts/Authorization/UMAuthHistory/NonMinified/UMAuthHistory.js"></p-script>

@*<p-bundle identity="authHistoryBundle">
        @Scripts.Render("~/bundles/authhistoryscripts");
        @Styles.Render("~/Content/authhistorycss");
    </p-bundle>*@

<div id="historyMainSection" class="col-lg-12">
    <div class="x_panel">
        <div class="x_title">
            @Html.ExportOptions("filter", "email", "pdf", "excel")
        </div>
    </div>
</div>
<div class="clearfix"></div>

<div id="historyBody" class="col-lg-12">

    <!-- AUTH HISTORY TABLE -->
    <div class="scrollable-division1">
        <div class="inner-scrollable-div1">
            <!-- HEADER TABLE -->
            <table class="table table-header1 theme1_table custom-thead-back custom-thead-font custom-tbody">
                <thead class="theme_thead" id="AuthHistoryHeader">
                    <tr>
                        <th class="cols-1 td-blue" rowspan="1" colspan="1">
                            <span> </span>
                        </th>
                        <th class="withfilter cols-2" rowspan="1" colspan="1">
                            <span class="styled-input">
                                <input class="filer-search" type="text" required />
                                <label class="singleElemQueue bgFieldsQueue">@Html.DisplayNameFor(e => e.POSAbbreviation)</label>
                                <span></span>
                                <i class="fa fa-sort"></i>
                            </span>
                        </th>
                        <th class="withfilter cols-3" rowspan="1" colspan="1">
                            <span class="styled-input">
                                <input class="filer-search" type="text" required />
                                <label class="singleElemQueue bgFieldsQueue">@Html.DisplayNameFor(e => e.ReferenceNumber)</label>
                                <span></span>
                                <i class="fa fa-sort"></i>
                            </span>
                        </th>
                        <th class="withfilter cols-4" rowspan="1" colspan="1">
                            <span class="styled-input">
                                <input class="filer-search" type="text" required />
                                <label class="singleElemQueue bgFieldsQueue">@Html.DisplayNameFor(e => e.FromDate)</label>
                                <span></span>
                                <i class="fa fa-sort"></i>
                            </span>
                        </th>
                        <th class="withfilter cols-5" rowspan="1" colspan="1">
                            <span class="styled-input">
                                <input class="filer-search" type="text" required />
                                <label class="singleElemQueue bgFieldsQueue">@Html.DisplayNameFor(e => e.ToDate)</label>
                                <span></span>
                                <i class="fa fa-sort"></i>
                            </span>
                        </th>

                        <th class="withfilter cols-6" rowspan="1" colspan="1">
                            <span class="styled-input">
                                <input class="filer-search" type="text" required />
                                <label class="singleElemQueue bgFieldsQueue">@Html.DisplayNameFor(e => e.ServiceProviderName)</label>
                                <span></span>
                                <i class="fa fa-sort"></i>
                            </span>
                        </th>
                        <th class="withfilter cols-7" rowspan="1" colspan="1">
                            <span class="styled-input">
                                <input class="filer-search" type="text" required />
                                <label class="singleElemQueue bgFieldsQueue">@Html.DisplayNameFor(e => e.RequestType)</label>
                                <span></span>
                                <i class="fa fa-sort"></i>
                            </span>
                        </th>
                        <th class="withfilter cols-8" rowspan="1" colspan="1">
                            <span class="styled-input">
                                <input class="filer-search" type="text" required />
                                <label class="singleElemQueue bgFieldsQueue">@Html.DisplayNameFor(e => e.FacilityName)</label>
                                <span></span>
                                <i class="fa fa-sort"></i>
                            </span>
                        </th>
                        <th class="withfilter cols-9" rowspan="1" colspan="1">
                            <span class="styled-input">
                                <input class="filer-search" type="text" required />
                                <label class="singleElemQueue bgFieldsQueue">@Html.DisplayNameFor(e => e.AuthorizationType)</label>
                                <span></span>
                                <i class="fa fa-sort"></i>
                            </span>
                        </th>
                        <th class="withfilter cols-10" rowspan="1" colspan="1">
                            <span class="styled-input">
                                <input class="filer-search" type="text" required />
                                <label class="singleElemQueue bgFieldsQueue">@Html.DisplayNameFor(e => e.ExpectedDischargeDate)</label>
                                <span></span>
                                <i class="fa fa-sort"></i>
                            </span>
                        </th>
                        <th class="withfilter cols-11" rowspan="1" colspan="1">
                            <span class="styled-input">
                                <input class="filer-search" type="text" required />
                                <label class="singleElemQueue bgFieldsQueue">@Html.DisplayNameFor(e => e.AuthUnits)</label>
                                <span></span>
                                <i class="fa fa-sort"></i>
                            </span>
                        </th>
                        <th class="withfilter cols-12" rowspan="1" colspan="1">
                            <span class="styled-input">
                                <input class="filer-search" type="text" required />
                                <label class="singleElemQueue bgFieldsQueue">@Html.DisplayNameFor(e => e.StatusUserName)</label>
                                <span></span>
                                <i class="fa fa-sort"></i>
                            </span>
                        </th>
                        <th class="withfilter cols-13" rowspan="1" colspan="1">
                            <span class="styled-input">
                                <input class="filer-search" type="text" required />
                                <label class="singleElemQueue bgFieldsQueue">@Html.DisplayNameFor(e => e.Pos)</label>
                                <span></span>
                                <i class="fa fa-sort"></i>
                            </span>
                        </th>
                        <th class="withfilter cols-14" rowspan="1" colspan="1">
                            <span class="styled-input">
                                <input class="filer-search" type="text" required />
                                <label class="singleElemQueue bgFieldsQueue">@Html.DisplayNameFor(e => e.PrimaryDx)</label>
                                <span></span>
                                <i class="fa fa-sort"></i>
                            </span>
                        </th>
                        <th class="withfilter cols-15" rowspan="1" colspan="1">
                            <span class="styled-input">
                                <input class="filer-search" type="text" required />
                                <label class="singleElemQueue bgFieldsQueue">ACTION</label>
                                <span></span>
                                <i class="fa"></i>
                            </span>
                        </th>
                    </tr>
                </thead>
            </table>
            <div class="historyTableBodyDivision">
                <table class="table table-striped custom-table-striped margin_bottom_zero margin_left_zero tableLayer  custom-thead-back custom-thead-font custom-tbody" cellspacing="0" cellpadding="0">
                    <tbody id="authHistoryTable">   
                        @foreach( var m in Model){                     
                        <tr>
                            <td class="cols1 td-blue subTableBody1"><span class="btn  btn-success btn-xs"><i class="fa fa-arrow-right"></i></span></td>                            
                            <td class="cols2">
                                <label class="label label-primary abvStyleClass">
                                    @Html.DisplayFor(x => m.POSAbbreviation)
                                </label>
                            </td>                            
                            <td class="cols3">
                                @Html.DisplayFor(x => m.ReferenceNumber)
                            </td>                            
                            <td class="cols4">
                                @Html.DisplayFor(x => m.FromDate)                                
                            </td>                          
                            <td class="cols5">
                                @Html.DisplayFor(x => m.ToDate)                           
                            </td>                            
                            <td class="cols6">
                                @Html.DisplayFor(x => m.ServiceProviderName)                                
                            </td>

                            @if (@m.RequestType.ToLower() == "standard")
                            {
                                  <td class="cols7">
                                     <div class="ok">
                                          @Html.DisplayFor(x => m.RequestType)                                   
                                    </div>
                                  </td>      
                            }
                            else
                            {
                                <td class="cols7">
                                    <div class="danger expeditedStyle">
                                        @Html.DisplayFor(x => m.RequestType)
                                    </div>
                                </td>         
                            }

                           
                            <td class="maxWidthtdXL cols8">
                            <label class="singleElemQueue maxWidthXLem theme_label_data">
                                <div class="td-ellipsis" data-toggle="popover" data-trigger="hover" data-title="Facility" data-content="@m.FacilityName">
                                    @Html.DisplayFor(x => m.FacilityName)
                                </div>
                                </label>
                            </td>
                
                                                
                            @*<td class="cols8" data-container="body" data-toggle="popover" title="Facility" data-trigger="hover" data-content="@(m.FacilityName)">
                                @Html.DisplayFor(x => m.FacilityName)
                            </td>*@                            
                            <td class="cols9">
                                @Html.DisplayFor(x => m.AuthorizationType)                          
                            </td>                            
                            <td class="cols10">
                               @Html.ConvertToDateString(Html.DisplayFor(x => m.ExpectedDischargeDate).ToString())
                            </td>                            
                            <td class="cols11">
                                @Html.DisplayFor(x => m.AuthUnits)
                            </td>                            
                            <td class="cols12">
                                <label class="singleElemQueue maxWidthXLem theme_label_data">
                                    <div class="td-ellipsis" data-toggle="popover" data-trigger="hover" data-title="STATUS" data-content="@m.StatusUserName">
                                        @Html.DisplayFor(x => m.StatusUserName)
                                    </div>
                                </label>
                            </td>                            
                            <td class="cols13 text-center">
                                @Html.DisplayFor(x => m.Pos)
                            </td>                            
                            <td class="cols14">
                                @Html.DisplayFor(x => m.PrimaryDx)
                            </td>
                            <td class="cols15"> 
                                <input type="button" value="VIEW" class="btn btn-primary btn-xs tab-navigation member-actions"  data-tab-path="/UM/ViewAuthorization/GetViewAuth?ID=20" data-tab-val="viewAuth" data-tab-action="View History Auth" data-tab-title="View History Auth" data-tab-parentcontainer="partialBodyContainer" data-tab-floatmenu="true" data-tab-container="innerTabContainer" data-tab-autoflush="false" data-tab-issubtab="true"  data-tab-defaultparenttab="Member" data-tab-userid="UL0001964" data-tab-usertype="Member" /> 
                                <input type="submit" value="COPY" class="btn btn-primary btn-xs" /> <input type="submit" value="EDIT" class="btn btn-primary btn-xs" />
                            </td>                            
                        </tr>
                            }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
