@model PortalTemplate.Areas.Encounters.Models.EncounterViewModel
@{
    List<SelectListItem> Status = new List<SelectListItem>();
    Status.Add(new SelectListItem
      {
          Text = "Open",
          Value = "Open",
          Selected = true
      });
    Status.Add(new SelectListItem
    {
        Text = "Active",
        Value = "Active"

    });
    Status.Add(new SelectListItem
    {
        Text = "No Show",
        Value = "NoShow"
    });
    Status.Add(new SelectListItem
    {
        Text = "Re-Schedule",
        Value = "ReSchedule"
    });
    Status.Add(new SelectListItem
    {
        Text = "Ready To Code",
        Value = "ReadyToCode"
    });
}
@*<p-script filepath="~/Areas/Encounters/Scripts/AppJs/CreateEncounter/Unminified/EncounterTemplate.js"></p-script>*@
@using (Ajax.BeginForm("SaveScheduleDetails", "Schedule", new AjaxOptions { HttpMethod = "POST", OnBegin = "validateForm", OnSuccess = "ValidateScheduleDetails" }, new { id = "saveScheduleDetailsForm" }))
{
    <div class="row ViewEncounter" id="ViewEncounter">
        <div class="col-lg-12">

            <div class="x_panel border_on_panel">
                <div class="x_content">

                    <div class="col-lg-12">
                        <label class="title_text">Schedule Details</label>
                        @*<a onclick="toggleCollapseEncounter()" class="btn btn-xs btn-info pull-right encounterCollapseShow"><span class="fa fa-list"></span></a>*@

                    </div>


                    <div class="row hideOnCollapse">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 margin_top_-3px">
                            <fieldset class="fieldsetStyle">
                                <legend class="legendstyle">
                                    Rendering Provider
                                    <a class="btn btn-xs btn-info scheduleChangeProvider"><i class="fa fa-reply"> Change</i></a>
                                </legend>
                                <div>
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
                                        @Html.LabelFor(m => m.ProviderInfo.ProviderNPI, new { @class = "label-font-normal" })
                                        <div>
                                            <label class="uppercase">@Model.ProviderInfo.ProviderNPI</label>
                                            @Html.HiddenFor(m => m.ProviderInfo.ProviderNPI)
                                        </div>
                                    </div>
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
                                        @Html.LabelFor(m => m.ProviderInfo.ProviderFirstName, new { @class = "label-font-normal" })
                                        <div><label class="uppercase">@Model.ProviderInfo.ProviderFirstName</label></div>
                                        @Html.HiddenFor(m => m.ProviderInfo.ProviderFirstName)
                                    </div>
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
                                        @Html.LabelFor(m => m.ProviderInfo.ProviderLastName, new { @class = "label-font-normal" })
                                        <div><label class="uppercase">@Model.ProviderInfo.ProviderLastName</label></div>
                                        @Html.HiddenFor(m => m.ProviderInfo.ProviderLastName)
                                    </div>

                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
                                        @Html.LabelFor(m => m.ProviderInfo.Specialty, new { @class = "label-font-normal" })
                                        <div><label class="uppercase">@Model.ProviderInfo.Specialty</label></div>
                                        @Html.HiddenFor(m => m.ProviderInfo.Specialty)
                                    </div>
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
                                        @Html.LabelFor(m => m.ProviderInfo.Taxonomy, new { @class = "label-font-normal" })
                                        <div><label class="uppercase">@Model.ProviderInfo.Taxonomy</label></div>
                                        @Html.HiddenFor(m => m.ProviderInfo.Taxonomy)
                                    </div>
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 margin_top_-3px">
                            <fieldset class="fieldsetStyle">
                                <legend class="legendstyle">
                                    Member
                                    <a class="btn btn-xs btn-info scheduleChangeMember"><i class="fa fa-reply"> Change</i></a>
                                </legend>
                                <div>
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
                                        @Html.LabelFor(m => m.MemberInfo.SubscriberID, new { @class = "label-font-normal" })
                                        <div><label class="uppercase">@Model.MemberInfo.SubscriberID</label></div>
                                        @Html.HiddenFor(m => m.MemberInfo.SubscriberID)
                                    </div>
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
                                        @Html.LabelFor(m => m.MemberInfo.MemberFirstName, new { @class = "label-font-normal" })
                                        <div><label class="uppercase">@Model.MemberInfo.MemberFirstName</label></div>
                                        @Html.HiddenFor(m => m.MemberInfo.MemberFirstName)
                                    </div>
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
                                        @Html.LabelFor(m => m.MemberInfo.MemberLastName, new { @class = "label-font-normal" })
                                        <div><label class="uppercase">@Model.MemberInfo.MemberLastName</label></div>
                                        @Html.HiddenFor(m => m.MemberInfo.MemberLastName)
                                    </div>
                                    <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1">
                                        @Html.LabelFor(m => m.MemberInfo.Gender, new { @class = "label-font-normal" })
                                        <div><label class="uppercase">@Model.MemberInfo.Gender</label></div>
                                        @Html.HiddenFor(m => m.MemberInfo.Gender)
                                    </div>
                                    <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1">
                                        @Html.LabelFor(m => m.MemberInfo.DateOfBirth, new { @class = "label-font-normal" })
                                        <div><label class="uppercase">@Model.MemberInfo.DateOfBirth</label></div>
                                        @Html.HiddenFor(m => m.MemberInfo.DateOfBirth)
                                    </div>
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
                                        @Html.LabelFor(m => m.MemberInfo.Address, new { @class = "label-font-normal" })
                                        <div><label class="uppercase">@Model.MemberInfo.Address</label></div>
                                    </div>
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
                                        @Html.LabelFor(m => m.MemberInfo.Plan.PlanName, new { @class = "label-font-normal" })
                                        <div><label class="uppercase">@Model.MemberInfo.Plan.PlanName</label></div>
                                        @Html.HiddenFor(m => m.MemberInfo.Plan.PlanName)
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <fieldset class="fieldsetStyle">
                                <legend class="legendstyle">Service Information</legend>
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                                            Referring Provider
                                            <div class="ProviderLabel">
                                                <label class="uppercase" id="SelectedReferingProvider">@Model.ServiceInfo.ReferringProvider.ProviderFirstName @Model.ServiceInfo.ReferringProvider.ProviderLastName</label>
                                                <a class="refprov_edit_link btn btn-xs btn-info SchedulerServiceInfoEditBtn" data-url="#Scheduler_ReferingProviderSearch"><i class="fa fa-edit"></i> Edit</a>
                                            </div>
                                            <div id="Scheduler_ReferingProviderSearch" class="ProviderSearch row">
                                                <div class="col-lg-9">
                                                    <input name="ReferringProvider" placeholder="Referring Provider Name" class="form-control input-xs non_mandatory_field_halo refprovelement">
                                                </div>
                                                <div class="col-lg-3 zero-padding-left-right">
                                                    <button class="btn btn-xs btn-primary selectReferprovider" id="Scheduler_ReferingProviderSearchBtn">Search</button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                                            Billing Provider
                                            <div class="ProviderLabel">
                                                <label class="uppercase" id="SelectedBillingProvider">@Model.ServiceInfo.BillingProvider.ProviderFirstName @Model.ServiceInfo.BillingProvider.ProviderLastName</label>
                                                <a class="refprov_edit_link btn btn-xs btn-info SchedulerServiceInfoEditBtn" data-url="#Scheduler_BillingProviderSearch"><i class="fa fa-edit"></i> Edit</a>
                                            </div>
                                            <div id="Scheduler_BillingProviderSearch" class="ProviderSearch row">
                                                <div class="col-lg-9">
                                                    <input name="BillingProvider" placeholder="Billing Provider Name" class="form-control input-xs non_mandatory_field_halo refprovelement">
                                                </div>
                                                <div class="col-lg-3 zero-padding-left-right">
                                                    <button class="btn btn-xs btn-primary selectReferprovider" id="Scheduler_BillingProviderSearchBtn">Search</button>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                                            Service Facility
                                            <div class="ProviderLabel">
                                                <label class="uppercase" id="SelectedFacility">@Model.ServiceInfo.ServiceFacility.FacilityName</label>
                                                <a class="refprov_edit_link btn btn-xs btn-info SchedulerServiceInfoEditBtn" data-url="#Scheduler_FacilitySearch"><i class="fa fa-edit"></i> Edit</a>
                                            </div>
                                            <div id="Scheduler_FacilitySearch" class="ProviderSearch row">
                                                <div class="col-lg-9">
                                                    <input name="Facility" placeholder="Facility Name" class="form-control input-xs non_mandatory_field_halo refprovelement">
                                                </div>
                                                <div class="col-lg-3 zero-padding-left-right">
                                                    <button class="btn btn-xs btn-primary selectReferprovider" id="Scheduler_FacilitySearchBtn">Search</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                        <div id="ProviderList"></div>
                                    </div>
                                </div>

                                <div class="row" style="margin-top:5px;">
                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                        @*<div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                                                DOS From
                                                <div class="editelements">
                                                    @Html.TextBoxFor(model => model.DOSFrom, new { @class = "form-control input-xs non_mandatory_field_halo uppercase", placeholder = "mm/dd/yyyy" })
                                                </div>
                                            </div>
                                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                                                DOS To
                                                <div class="editelements">
                                                    @Html.TextBoxFor(model => model.DOSTo, new { @class = "form-control input-xs non_mandatory_field_halo uppercase", placeholder = "mm/dd/yyyy" })
                                                </div>
                                            </div>
                                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                                                Place of Service
                                                <div class="editelements">
                                                    @Html.TextBoxFor(model => model.PlaceOfService, new { @class = "form-control input-xs non_mandatory_field_halo uppercase" })
                                                    <datalist id="pos" class="uppercase">
                                                        <option value="21-Inpatient Hospital">
                                                        <option value="11-Office">
                                                        <option value="22-Outpatient Hospital">
                                                        <option value="31-SNF">
                                                    </datalist>
                                                </div>
                                            </div>*@
                                        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                                            @Html.LabelFor(m => m.ScheduleDate, new { @class = "label-font-normal" })
                                            <div class="editelements">
                                                @*@Html.TextBoxFor(model => model.ScheduleDate, new { @class = "form-control input-xs non_mandatory_field_halo uppercase" })*@
                                                @Html.PratianUiDatePickerFor(model => model.ScheduleDate, new { @class = "form-control input-xs non_mandatory_field_halo uppercase" })
                                                @Html.ValidationMessageFor(model => model.ScheduleDate)
                                            </div>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                                            @Html.LabelFor(m => m.ScheduleTime, new { @class = "label-font-normal" })
                                            <div class="editelements">
                                                @Html.PratianUiTimePickerFor(model => model.ScheduleTime, new { @class = "form-control input-xs non_mandatory_field_halo uppercase" })
                                                @Html.ValidationMessageFor(model => model.ScheduleTime)
                                            </div>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                                            Visit Category
                                            <div class="editelements">
                                                @Html.TextBoxFor(model => model.ServiceInfo.VisitCategory, new { @class = "form-control input-xs non_mandatory_field_halo uppercase" })
                                                <datalist id="Visitlength" class="uppercase">
                                                    <option value="15 minutes">
                                                    <option value="30 minutes">
                                                    <option value="45 minutes">
                                                    <option value="60 minutes">
                                                </datalist>
                                            </div>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                                            Visit Length
                                            <div class="editelements">
                                                @Html.TextBoxFor(model => model.ServiceInfo.VisitLength, new { @class = "form-control input-xs non_mandatory_field_halo uppercase" })
                                                @*<input list="Visitlength" placeholder="Length" class="form-control input-xs non_mandatory_field_halo">
                                                    <datalist id="Visitlength">
                                                        <option value="15 min"></option>
                                                        <option value="30 min"></option>
                                                        <option value="45 min"></option>
                                                        <option value="60 min"></option>
                                                    </datalist>*@
                                            </div>
                                        </div>


                                    </div>
                                </div>

                                <div class="row" style="margin-top:5px;">
                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                        <div class="col-lg-6 col-md-3 col-sm-3 col-xs-3">
                                            Visit Reason
                                            <div class="editelements">
                                                @Html.TextAreaFor(model => model.ServiceInfo.ReasonForVisit, new { @class = "form-control input-xs non_mandatory_field_halo uppercase" })
                                            </div>
                                        </div>
                                    </div>
                                </div>


                                @*<div class="row editelements hideOnCollapse">
                                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                            <fieldset class="fieldsetStyle">

                                                <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
                                                    Encounter Type
                                                    <div>
                                                        @Html.RadioButtonFor(model => model.EncounterType, "HMO", new { @class = "normal-radio", @id = "HMO" })
                                                        <label for="HMO"><span></span>HMO</label>
                                                        @Html.RadioButtonFor(model => model.EncounterType, "Medicare", new { @class = "normal-radio", @id = "Medicare", @checked = "checked" })
                                                        <label for="Medicare"><span></span>Medicare</label>
                                                    </div>
                                                </div>
                                                <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
                                                    Status
                                                    <div>
                                                        @Html.DropDownListFor(model => model.EncounterStatus, Status, new { @class = "form-control input-xs non_mandatory_field_halo dropdown_selector text-uppercase" })


                                                    </div>
                                                </div>
                                                <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                                    Notes
                                                    <div>
                                                        @Html.TextAreaFor(model => model.EncounterNotes, new { @class = "form-control input-xs non_mandatory_field_halo uppercase" })
                                                    </div>
                                                </div>
                                            </fieldset>
                                        </div>
                                    </div>*@

                            </fieldset>
                        </div>

                    </div>

                    @*<a class="view-button pull-right tab-navigation member-actions" data-tab-val="Edit Encounter" data-tab-action="Edit Encounter" data-tab-title="Edit Encounter" data-tab-container="fullBodyContainer" data-tab-autoflush="false" data-tab-path="~/Views/PBAS/CreateEncounter/_EditEncounter.cshtml">Edit</a>*@

                </div>
            </div>
        </div>

        <div class="col-lg-12">
            <a class="btn btn-sm btn-warning pull-left tab-navigation member-actions encounterTemplateItem" id="BackScheduleDetails">Back</a>

            <div class="btn-group dropup pull-right">
               
                <button type="button" class="btn btn-primary btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                   
                    <span>Save</span>
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu">
                    <li><button type="submit" class="BackToList">Save & Exit</button></li>
                    <li><button type="submit" class="Scheduler_CreateNew">Save & Create New</button></li>
                </ul>
            </div>
            <button type="submit" class="btn btn-sm btn-primary pull-right member-actions editelements encounterTemplateItem proceedToEncounter">Save & Proceed To Encounter</button>
        </div>
    </div>
}
