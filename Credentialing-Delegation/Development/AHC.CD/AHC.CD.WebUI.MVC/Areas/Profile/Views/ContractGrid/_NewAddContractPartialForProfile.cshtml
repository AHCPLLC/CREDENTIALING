@model AHC.CD.WebUI.MVC.Models.EmailService.EmailServiceViewModel

<style>
    .inactive {
        pointer-events: none;
        cursor: default;
    }
</style>


<div class="col-lg-12 zero-padding-left-right-div">
    <div ng-show="loadingAjax" class="progress col-lg-12" ng-cloak>

        <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
            Loading...Please wait...
        </div>

    </div>
    <!--Loading ends-->
    <div class="clearfix"></div>
    <div ng-cloak ng-show="activeMessageDiv=='noProviderDetails'" class="col-lg-12 form-group">
        <div class="alert alert-danger" role="alert">
            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
            <span>{{messageDesc}}</span>
        </div>
    </div>
    <div class="clearfix"></div>

    <div class="panel panel-default small" ng-show="initiate">
        <div class="panel-heading">
            <button class="pull-right btn btn-xs" ng-click="SearchProviderPanelToggle('ProfileDetailPanel');"><i class="fa fa-th-list"></i></button>
            <div>Initiate De-Credentialing</div>
        </div>
        <div role="tabpanel">
            <div id="ProfileDetailPanel" class="panel-body closePanel">

                @*<div class="col-md-12" ng-show="profileDetail.length==0">

                        <label>

                            No Data Available

                        </label>

                    </div>*@

                <div class="col-md-12" ng-show="!initiateSuccessForDeCred">
                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane active" id="planDetail">
                            <!---Provider partial starts here-->
                            @Html.Partial("~/Areas/Credentialing/Views/Initiation/_PlanDetailTable.cshtml")
                            <!---Provider partial ends here-->
                        </div>

                    </div>
                </div>
                <div class="clearfix"></div>
                <div ng-show="activeMessageDiv=='LoadedSuccess'" class="alert alert-success" role="alert">
                    <button ng-click="closeAlertMessage('')" class="close"><span>&times;</span></button>
                    <i class="fa fa-2x fa-arrow-up"></i> {{messageDesc}}
                </div>
                <div class="clearfix"></div>

                <div class="clearfix"></div>
                <div class="col-lg-12 zero-padding-left-right-div">
                    <div ng-show="activeMessageDiv=='LoadedUnSuccess'" class="alert alert-danger" role="alert">
                        <div>
                            <button ng-click="closeAlertMessage('')" class="close"><span>&times;</span></button>
                            {{messageDesc}}
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>


                <div class="col-lg-12 zero-padding-left-right-div" ng-show="initiateSuccessForDeCred">
                    @*<div class="col-lg-6 text-left" ng-click="GenerateEmailPopUp()" data-toggle="modal" data-target="#composeMail"><button class="btn btn-sm btn-info">Send E-mail &nbsp;<i class="glyphicon glyphicon-send"></i></button></div>*@

                    @*<div class="col-lg-6 text-right pull-right"><button class="btn btn-warning btn-sm" ng-click="SearchProviderPanelToggleDown('SearchProviderResultPanel'); tempObject.PlanId = '';"> Back to Search Result</button></div>*@
                    @*<div class="col-lg-6 text-right"><a class="btn btn-success btn-sm" href="~/Credentialing/Initiation/DecredentialingSummary/{{ProfileID}}" target="_blank"> View Application </a></div>*@
                </div>

            </div>
        </div>
    </div>
    <!--Initiation ends-->
    <!--Initiation starts-->
    @*<div class="col-lg-12 zero-padding-left-right-div">

            <div class="col-lg-2">
                <label class="control-label">Select Plan </label>
            </div>


            <div class="col-lg-4 form-group">
                <input type="text" class="form-control input-sm" placeholder="Select Plan" name="PlanId" ng-model="tempObject.PlanName" ng-click="searchCumDropDown('PlanType'+$index)" data-searchdropdown="searchdropdown" />
                <div class="ProviderTypeSelectAutoList popover fade bottom in" role="tooltip" id="PlanType{{$index}}" style="margin-top:30px">
                    <table class="table table-striped table-bordered table-hover table-condensed">
                        <tbody>
                            <tr ng-repeat="p in filteredplanResults =(plans | filter:tempObject.PlanName)" ng-click="addIntoPlanDropDown(p,tempObject,'PlanType');findIsDelegated(tempObject.PlanId)" class=" pointer">
                                <td>{{p.PlanName}}</td>
                            </tr>
                            <tr ng-if="plans.length == 0">
                                <td>Plan not found..... </td>
                            </tr>
                            <tr id="loadingid" style="padding-left:50%"><img ng-if="temploadingvariable" style="width:20px; padding-top:10px; display:block; margin:auto auto" src="~/Areas/Credentialing/img/loading.GIF" /></tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </div>*@
    <div class="panel panel-default small">

        <div role="tabpanel">
            <div id="InitiationPanel" class="panel-body closePanel">
                <div class="col-md-12">
                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane active" id="Initiation">
                            <div class="panel-default content-panel">
                                <div ng-show="selectedAction==1" class="col-lg-12 zero-padding-left-right-div">
                                    <div class="clearfix"></div>
                                    <br />
                                    <div class="col-lg-12">
                                        <table class="table table-bordered table-condensed alignTableStyle">
                                            <tr>
                                                <th>NPI Number</th>
                                                <th>Name</th>
                                                @*<th>Last Name</th>*@
                                                @*<th>Title</th>
                                                <th>Specialty</th>
                                                <th>IPA</th>*@
                                            </tr>
                                            <tr>
                                                <td>{{NPINumber}}</td>
                                                <td> {{Firstname}} {{Lastname}}</td>
                                                @*<td>
                                                    <span ng-repeat="g in Type"><span ng-if="$index > 0">, </span>{{g}}</span>
                                                    
                                                </td>
                                                <td>
                                                    <span ng-repeat="s in Specilities_New track by $index"><span ng-if="$index > 0"></span><i ng-if="$index>0">,</i>{{s}}<br /></span>
                                                    
                                                </td>
                                                <td>
                                                    <span ng-repeat="g in Groups"><span ng-if="$index > 0">, </span>{{g}}</span>
                                                    
                                                </td>*@
                                            </tr>
                                        </table>
                                    </div>
                                    <div class="clearfix"></div>
                                    <br />
                                    @*<div >*@
                                    <div >
                                        <div class="col-lg-12 zero-padding-left-right-div" ng-hide="initiateSuccess">

                                            <div class="col-lg-2">
                                                <label class="control-label">Select Plan </label>
                                            </div>


                                            <div class="col-lg-4 form-group">
                                                <input type="text" class="form-control input-sm" placeholder="Select Plan" name="PlanId" ng-model="tempObject.PlanName" ng-click="searchCumDropDown('PlanType'+$index)" data-searchdropdown="searchdropdown" />
                                                <div class="ProviderTypeSelectAutoList popover fade bottom in" role="tooltip" id="PlanType{{$index}}" style="margin-top:30px">
                                                    <table class="table table-striped table-bordered table-hover table-condensed">
                                                        <tbody>
                                                            <tr ng-repeat="p in filteredplanResults =(plans | filter:tempObject.PlanName)" ng-click="addIntoPlanDropDown(p,tempObject,'PlanType');findIsDelegated(tempObject.PlanId)" class=" pointer">
                                                                <td>{{p.PlanName}}</td>
                                                            </tr>
                                                            <tr ng-if="plans.length == 0">
                                                                <td>Plan not found..... </td>
                                                            </tr>
                                                            <tr id="loadingid" style="padding-left:50%"><img ng-if="temploadingvariable" style="width:20px; padding-top:10px; display:block; margin:auto auto" src="~/Areas/Credentialing/img/loading.GIF" /></tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>

                                        </div>

                                        <div class="col-lg-12" ng-show="initiateSuccess">
                                            <div class="col-lg-4"></div>
                                            <div class="col-lg-4">
                                                <table class="table table-bordered table-condensed">
                                                    <thead>
                                                        <tr>
                                                            <th>Selected Plan</th>
                                                            <th>{{ShowPlanName}}</th>
                                                        </tr>
                                                    </thead>
                                                </table>
                                            </div>
                                            <div class="col-lg-4"></div>



                                            @*<div class="col-lg-3" style="font-weight:bolder;"><span class="pull-right">Selected Plan</span></div>
                                                <div class="col-lg-9"><h4>{{ShowPlanName}}</h4></div>*@

                                        </div>
                                        @*</div>*@
                                        <div class="clearfix"></div>
                                        <br />
                                        <div class="col-lg-12 zero-padding-left-right-div">
                                            <div ng-show="activeMessageDiv=='successfulInitiated'" class="alert alert-success" role="alert">
                                                <button ng-click="closeAlertMessage('')" class="close"><span>&times;</span></button>
                                                @*{{Title}} {{Profile.PersonalDetail.Firstname}} {{Profile.PersonalDetail.Lastname}}*@
                                                {{Firstname}} {{Lastname}} {{messageDesc}}
                                            </div>
                                            <div ng-show="activeMessageDiv=='errorInitiated'" class="col-lg-12">
                                                <div class="alert alert-danger" role="alert">
                                                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                                                    <span class="sr-only">Error:</span>
                                                    <span ng-repeat="err in errorInitiated track by $index">{{err}}</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                        <br />
                                        @*<div ng-show="initiateSuccess">
                                                <span class="col-lg-4"><hr /></span>
                                                <span class="col-lg-4 text-center h4">What would you like to do?</span>
                                                <span class="col-lg-4"><hr /></span>
                                            </div>*@
                                        <div class="col-lg-12 zero-padding-left-right-div">
                                            @*<div class="col-lg-6 text-left"><button class="btn btn-warning btn-sm" ng-click="SearchProviderPanelToggleDown('SearchProviderResultPanel');ResettingLOBTab()">{{btnName}}</button></div>*@ 
                                            @*<div ng-show="initiateSuccess  && tempObject.IsDelegatedYesNoOption == 'YES'" class="col-lg-6 text-right"><a class="btn btn-success btn-sm" href="@System.Configuration.ConfigurationManager.AppSettings["AppRoot"]/Credentialing/Verification/InitiateNewPSV?profileId={{ProfileID}}&credinfoId={{credinfoId}}"> Perform PSV </a></div>
                                                <div ng-show="initiateSuccess && tempObject.IsDelegatedYesNoOption == 'NO'" class="col-lg-6 text-right"><a class="btn btn-success btn-sm" href="@System.Configuration.ConfigurationManager.AppSettings["AppRoot"]/Credentialing/CnD/Application/{{credinfoId}}"> View Application </a></div>*@
                                            <div ng-show="goingBack" class="col-lg-6 pull-right text-right"><button class="btn btn-primary btn-sm" ng-disabled="!showbutton" ng-click="changeTabs('LobTab', 'id03', 'LOBPanel')"> Proceed To LOB</button></div>
                                            @*<div class="col-lg-6 pull-right text-right"><button class="btn btn-warning btn-sm" ng-click="FlipingTabs('Added_Contracts_FiledSet','Add_New_Contract');$scope.resetAllData()"> Cancel </button></div>*@
                                            <div ng-hide="goingBack" class="col-lg-6 pull-right text-right"><button class="btn btn-primary btn-sm" ng-disabled="!showbutton" ng-click="InitiateCredentialing();changeTabs('LobTab', 'id03', 'LOBPanel')"> Initiate Credentialing</button></div>
                                        </div>

                                        <div class="clearfix"></div>
                                        <br />
                                    </div>

                                </div>


                            </div>

                        </div>


                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--Initiation ends-->



</div>

