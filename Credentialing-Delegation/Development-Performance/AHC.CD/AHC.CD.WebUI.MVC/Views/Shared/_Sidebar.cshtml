@using Microsoft.AspNet.Identity;
@using Microsoft.AspNet.Identity.Owin;
<style>
    .nav > li > a:hover, .nav > li > a:focus {
        text-decoration: none;
        background-color: #EAEAEA;
    }

    .TabActiveColor {
        background-color: #BEECEC;
    }
</style>
<script>

</script>
@{
    var menus = new[]
                {
                   new { Link="Dashboard", Controller="Dashboard", LinkText="Dashboard", Roles="CCO,PRO"  },
                   new { Link="Profile/MasterProfile/Index", Controller="MasterProfile", LinkText="Profile", Roles="PRO"  },
                   new { Link="Initiation/Provider", Controller="Provider", LinkText="Add Provider", Roles="HR,CCO"  },
                   new { Link="Profile/SearchProvider/SearchProvider", Controller="SearchProvider", LinkText="Search Provider", Roles="ADM,CCO,CRA"  },
                   new { Link="Profile/SearchProfileForTL/Index", Controller="SearchProfileForTL", LinkText="Search Provider", Roles="TL"  },
                   new { Link="Credentialing/cnd/contractinfo", Controller="cnd", LinkText="Contract Grid", Roles="CCO"  },
                   new { Link="Credentialing/ProfileUpdates/Index", Controller="ProfileUpdates", LinkText="Requests for Approval", Roles="CCO"  },
                   new { Link="Credentialing/ProfileUpdates/Index", Controller="ProfileUpdates", LinkText="Pending Request", Roles="PRO"  },
                   new { Link="Profile/LocationTracker/Index", Controller="LocationTracker", LinkText="Location Tracker", Roles="CCO,ADM"  },
                   new { Link="Credentialing/Verification/Index", Controller="Verification", LinkText="PSV", Roles="ADM,CCO"  },
                   new { Link="EmailService/Index", Controller="EmailService", LinkText="Messages", Roles="CCO,ADM"  },
                   new { Link="Account/ViewUsers", Controller="Account", LinkText="Reset Password/Change Role", Roles="SuperAdmin"  },
                   new { Link="Initiation/InitiateUser/Index", Controller="Account", LinkText="Create User", Roles="SuperAdmin"  },
                   new { Link="TaskTracker/Index", Controller="TaskTracker", LinkText="Task Tracker", Roles="CCO,ADM"  },
                   new { Link="Credentialing/Initiation/Index", Controller="Initiation", LinkText="Initiate Credentialing", Roles="ADM,CCO"  },
                   new { Link="Credentialing/Initiation/CredentialingList", Controller="Initiation", LinkText="Credentialing List", Roles="ADM,CCO"  },
                   new { Link="Credentialing/CnD/CredentialingAppointment", Controller="CnD", LinkText="Credentialing Appointment", Roles="CCO,ADM"  },
                   new { Link="Credentialing/CCM/Index", Controller="CCM", LinkText="Credentialing Action List", Roles="ADM,CCM"  },
                   new { Link="Credentialing/Auditing/Index", Controller="Auditing", LinkText="Package/Form Generator", Roles="CCO"  },
                };
}

<div id="sidemenu" class="navbar-default sidebar" role="navigation">
    <div class="sidebar-nav navbar-collapse">
        <ul class="nav ScrollableMenuStyle" id="side-menu">
            @if (HttpContext.Current.User.Identity.IsAuthenticated)
            {
                try
                {
                    var roles = Context.GetOwinContext().GetUserManager<AHC.CD.WebUI.MVC.ApplicationUserManager>().GetRoles(User.Identity.GetUserId());
                    if (roles != null)
                    {
                        var links = from item in menus
                                    where item.Roles.Split(new String[] { "," }, StringSplitOptions.RemoveEmptyEntries)
                                    .Any(x => roles.Contains(x))
                                    select item;
                        foreach (var link in links)
                        {
                            <li class="@(ViewContext.RouteData.Values["controller"].Equals(link.Controller) ? "TabActiveColor" : "")">
                                <a href="~/@link.Link"><i class="fa fa-fw fa-user"></i>@link.LinkText</a>
                            </li>
                        }
                    }
                }
                catch (Exception ex)
                {

                }
            }
        </ul>

    </div>
    <!-- /.sidebar-collapse -->
</div>
