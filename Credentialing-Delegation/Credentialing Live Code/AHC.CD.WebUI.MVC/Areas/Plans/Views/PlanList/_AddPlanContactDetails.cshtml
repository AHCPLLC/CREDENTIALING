@model AHC.CD.WebUI.MVC.Areas.Plans.Models.PlanListContactDetailViewModel


<fieldset>
    <legend>
        Contact Details
    </legend>
    @*<div ng-repeat="pcd in tempPlanAddEditObject.ContactDetails track by $index" class="col-lg-12 zero-padding-right-right-div" ng-init="ParentIndex1 = $index">
            <span ng-if="pcd.PlanContactDetailID">
                @Html.HiddenFor(model => model.PlanContactDetailID, new { @Name = "ContactDetails[{{$index}}].PlanContactDetailID", @Value = "{{pcd.PlanContactDetailID}}" })
            </span>
            <div class="col-lg-3 form-group">
                @Html.LabelFor(model => model.ContactPersonName, new { @class = "control-label small" })
                @Html.TextBoxFor(model => model.ContactPersonName, new { @Name = "ContactDetails[{{$index}}].ContactPersonName", @class = "form-control input-sm", data_ng_model = "pcd.ContactPersonName", placeholder = "contact person name" })
                @Html.ValidationMessageFor(model => model.ContactPersonName, "", new { @class = "text-danger" })
            </div>
            @Html.Partial("_PlanContactDetailInformation")

        </div>*@

    <div ng-repeat="pcd in tempPlanAddEditObject.ContactDetails track by $index" class="col-lg-12 zero-padding-right-right-div" ng-init="ParentIndex1 = $index">
        <div class="col-md-4 form-group">
            <span>
                @Html.HiddenFor(model => model.ContactPersonName, new { @Name = "ContactDetails[{{ParentIndex1}}].ContactPersonName", @Value = "{{tempPlanAddEditObject.ContactDetails[ParentIndex1].ContactPersonName}}" })
                @Html.HiddenFor(model => model.PlanContactDetailID, new { @Name = "ContactDetails[{{$index}}].PlanContactDetailID", @Value = "{{pcd.PlanContactDetailID}}" })
                <label class="control-label small">Contact Person</label>
            </span>
            <a ng-click="addPersonsName(tempPlanAddEditObject.ContactDetails[ParentIndex1].ContactPersonName)" class="label label-primary pull-right pointer" tooltip data-toggle="tooltip" data-placement="top" title="Add"><i class="fa fa-plus-circle"></i> Add</a>
            <div ng-repeat="thp in filterdHomeContactDetailsPersonNames = (tempPlanAddEditObject.ContactDetails[ParentIndex1].ContactPersonName) track by $index" class="contactdetailsFieldStyle2">
                <div class="input-group">
                    <input class="form-control"
                           data-ng-model="tempPlanAddEditObject.ContactDetails[ParentIndex1].ContactPersonName[$index]"
                           data-val="true"
                           id="PersonDetails_{{tempPlanAddEditObject.ContactDetails[ParentIndex1].ContactDetail.ContactPersonName.indexOf(thp)}}__Name" placeholder="Contact Person Name"
                           tooltip data-toggle="tooltip" data-placement="top"
                           name="ContactDetails[{{ParentIndex1}}].ContactPersonName[{{$index}}]"
                           type="text">
                    <span ng-if="tempPlanAddEditObject.ContactDetails[ParentIndex1].ContactPersonName.length>0" class="input-group-addon">
                        <a ng-click="RemovePersonName(tempPlanAddEditObject.ContactDetails[ParentIndex1].ContactPersonName, thp)" class="text-danger pointer" tooltip data-toggle="tooltip" data-placement="right" title="Remove"><i class="fa fa-minus-circle"></i></a>
                    </span>
                </div>
            </div>
            <div ng-if="filterdHomeContactDetailsPersonNames.length == 0 || tempPlanAddEditObject.ContactDetails[ParentIndex1].ContactPersonName == null">
                <i>Please Add Contact Person Name.</i>
            </div>
        </div>
        @Html.Partial("_PlanContactDetailInformation")
    </div>
</fieldset>