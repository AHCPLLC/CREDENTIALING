@model AHC.CD.WebUI.MVC.Models.EmailService.EmailServiceViewModel
<style>
    .container-outer {
        overflow: scroll;
    }

    .TemplateSelectAutoList.popover.bottom {
        margin-top: 30px;
    }

    .table {
        width: 100%;
        max-width: 100%;
        margin-bottom: 0px;
    }

    .TemplateSelectAutoList {
        display: none;
        left: 0%;
        width: 90%;
        margin-left: 15px;
        // margin-left: 35px;
        margin-right: 15px;
        overflow-y: scroll;
        max-height: 222px;
    }

    .TemplateSelectAutoList {
        max-width: 100%;
    }

        .TemplateSelectAutoList.popover {
            border-radius: 0px;
        }

        /*.TemplateSelectAutoList.popover.bottom {
                margin-top: 56px;
            }*/

        .TemplateSelectAutoList > table > tbody > tr:hover {
            background-color: #337FC1;
            color: white;
        }


    .table {
        width: 100%;
        max-width: 100%;
        margin-bottom: 0px;
    }

    .TemplateSelectAutoList {
        display: none;
        left: 0%;
        width: 90%;
        margin-left: 15px;
        // margin-left: 35px;
        margin-right: 15px;
        overflow-y: scroll;
        max-height: 222px;
    }

    .TemplateSelectAutoList {
        max-width: 100%;
    }

        .TemplateSelectAutoList.popover {
            border-radius: 0px;
        }

        /*.TemplateSelectAutoList.popover.bottom {
                margin-top: 56px;
            }*/

        .TemplateSelectAutoList > table > tbody > tr:hover {
            background-color: #337FC1;
            color: white;
        }

    .ui-autocomplete {
        max-height: 110px;
        overflow-y: auto;
        overflow-x: hidden;
        font-family: 'Comic Sans MS';
        position: fixed;
        z-index: 1100;
    }

    .lblcss {
        color: #333;
        border: 1px solid #ccc;
        border-radius: 3px;
    }

        .lblcss > button {
            padding-left: 10px;
            color: #b94a48;
        }

    /*.container-inner {
        width: 10000px;
    }*/
</style>
<style>
    .makeBld {
        font-weight: bold;
    }
</style>
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.js"></script>
<link href="~/Content/SharedCss/jquery-ui.css" rel="stylesheet" />
<script src="~/Scripts/Lib/Jquery/jquery-ui.js"></script>

<ul class=" nav nav-tabs">
    <li id="Provider" class="active"><a data-toggle="tab" href="#ProviderTab">Search Provider</a></li>
    <li id="Package" ng-if="selectedProviders.length == 0" ng-class="{'disabled':selectedProviders.length == 0}"><a>Package/Form Generation</a></li>
    <li id="Package" ng-if="selectedProviders.length > 0" ng-class="{'':selectedProviders.length > 0}"><a data-toggle="tab" href="#PackageTab">Package/Form Generation</a></li>
    @*<li><a data-toggle="tab" href="#menu2">Menu 2</a></li>
        <li><a data-toggle="tab" href="#menu3">Menu 3</a></li>*@
    <li id="Provider" class="pull-right"><a data-toggle="tab" ng-click="GetAllPackageTracker()" href="#packagetracker">Package Tracker</a></li>
</ul>


@*<div ng-if="showTracker" class="tab-content">
    <br />
    <div class="panel panel-default small">
        <div class="panel-heading">
            <button class="pull-right btn btn-xs" ng-click="closeTracker()"><i class="fa fa-times"></i></button>
            <div>Package Tracker</div>
        </div>
        <div role="tabpanel" class="panel-body closePanel">
            <div class="col-md-12">
                <div class="tab-content">
                    <div role="tabpanel" class="tab-pane active">*@
<!---Provider partial starts here-->
@*@Html.Partial("~/Areas/Credentialing/Views/Auditing/_PackageGenerationTracker.cshtml")*@
<!---Provider partial ends here-->
@*<div ng-show="activeMessageDiv=='noProviderDetails'" class="alert alert-danger" role="alert">
        <button ng-click="closeAlertMessage('')" class="close"><span>&times;</span></button>
        <i class="fa fa-2x fa-arrow-up"></i> {{messageDesc}}
    </div>*@
@*</div>
                    </div>

                </div>
            </div>
        </div>
    </div>*@
@*<div ng-show="loading">
        <div class="progress">
            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                <span>Loading...Please wait...</span>
            </div>
        </div>
    </div>*@
<div class="tab-content">
    <br />
    <div id="ProviderTab" class="tab-pane fade in active">
        <div class="panel panel-default small">
            <div class="panel-heading">
                <button class="pull-right btn btn-xs" ng-click="SearchProviderPanelToggle('AuditSearch');" ng-disabled="packageLoading" toggle data-toggle="tooltip" data-placement="top" title="Expand/Collapse"><i class="fa fa-th-list"></i></button>
                <div>Search Provider</div>
            </div>
            <div role="tabpanel" id="AuditSearch" class="panel-body closePanel">
                <div class="col-md-12">
                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane active">
                            <!---Provider partial starts here-->
                            @Html.Partial("~/Areas/Credentialing/Views/Auditing/_Audit_SearchByDetails.cshtml")
                            <!---Provider partial ends here-->
                            @*<div ng-show="activeMessageDiv=='noProviderDetails'" class="alert alert-danger" role="alert">
                                    <button ng-click="closeAlertMessage('')" class="close"><span>&times;</span></button>
                                    <i class="fa fa-2x fa-arrow-up"></i> {{messageDesc}}
                                </div>*@
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div ng-show="loadingAjax">
            <div class="progress">
                <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                    <span>Loading...Please wait...</span>
                </div>
            </div>
        </div>
        <div ng-cloak ng-show="activeMessageDiv=='noProviderDetails'" class="col-lg-12 form-group">
            <div class="alert alert-danger" role="alert">
                <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                <span>{{messageDesc}}</span>
            </div>
        </div>
        <div class="panel panel-default small" ng-show="allProviders.length>0">
            <div class="panel-heading">
                Search Result
                <button class="pull-right btn btn-xs" ng-click="SearchProviderPanelToggle('SearchProviderResultPanel');" ng-disabled="packageLoading" toggle data-toggle="tooltip" data-placement="top" title="Expand/Collapse"><i class="fa fa-th-list"></i></button>

            </div>
            <div role="tabpanel">
                <div id="SearchProviderResultPanel" class="panel-body closePanel">
                    <div class="col-md-12 zero-padding-left-right-div">
                        <div class="tab-content">
                            <div role="tabpanel" class="tab-pane active">
                                @*<a class="btn btn-primary btn-xs pull-right" href="#" data-toggle="tooltip" data-placement="right" title="Download Selected"><i class="fa fa-download"> Download Selected</i></a>*@
                                <!---Provider partial starts here-->
                                @Html.Partial("~/Areas/Credentialing/Views/Auditing/_Audit_SearchResult.cshtml")
                                <!---Provider partial ends here-->

                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <div id="PackageTab" class="tab-pane fade">
        <div class="panel panel-default small" ng-show="allProviders.length > 0">
            <div class="panel-heading">
                Selected Providers
                <button class="pull-right btn btn-xs" ng-click="SearchProviderPanelToggle('SearchProviderResultPanel1');" ng-disabled="packageLoading" toggle data-toggle="tooltip" data-placement="top" title="Expand/Collapse"><i class="fa fa-th-list"></i></button>
            </div>
            <div role="tabpanel">
                <div id="SearchProviderResultPanel1" class="panel-body closePanel">
                    <div class="col-md-12 zero-padding-left-right-div">
                        <div class="tab-content">
                            <div role="tabpanel" class="tab-pane active">
                                <!---Provider partial starts here-->
                                @Html.Partial("~/Areas/Credentialing/Views/Auditing/_selectedProvider.cshtml")
                                <!---Provider partial ends here-->

                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <div class="panel panel-default small" ng-hide="selectedProviders.length == 0">
            <div class="panel-heading">
                Select Document for Package & Form Generation
                <button class="pull-right btn btn-xs" ng-click="SearchProviderPanelToggle('SearchProviderResultPanel2');" ng-disabled="packageLoading" toggle data-toggle="tooltip" data-placement="top" title="Expand/Collapse"><i class="fa fa-th-list"></i></button>

            </div>
            <div role="tabpanel">
                <div id="SearchProviderResultPanel2" class="panel-body closePanel">
                    <div class="col-md-12 zero-padding-left-right-div">
                        <div class="tab-content">
                            <div class="col-lg-12 form-group">
                                <label class="radio-inline" for="radios-0">
                                    <input type="radio" id="radios-0" name="geneType" value="PackageGeneration" ng-disabled="packageLoading || selectedProviders.length>1" ng-model="generationType" ng-click="genPackageType='Individual';getData(selectedProviders[0].ProfileID)" />
                                    Package Generation
                                </label>
                                <label class="radio-inline" for="radios-1">
                                    <input type="radio" id="radios-1" name="geneType" value="FormGeneration" ng-disabled="packageLoading" ng-model="generationType" />
                                    Form Generation
                                </label>

                            </div>
                            <br />
                            <!--Package Generation Start-->
                            <div role="tabpanel" class="tab-pane active form-style" ng-if="generationType=='PackageGeneration'">
                                <span id="topTable"></span>
                                <fieldset ng-init="">
                                    <legend>
                                        Package Generation
                                    </legend>

                    @*<input type="radio" name="genType" value="Individual" ng-model="genPackageType" ng-click="getData(selectedProviders[0].ProfileID)" />Individual*@
                    @*<input type="radio" name="genType" value="Generic" ng-model="genPackageType" />Generic*@

                                    <div ng-show="genPackageType=='Individual'">

                                        <div class="form-style">
                                            <fieldset ng-disabled="packageLoading">
                                                <legend>
                                                    Existing Documents
                                                </legend>
                                                <div class="col-lg-12">
                                                    <table class="table table-striped" ng-hide="loadingBar" ng-if="spaDoc">
                                                        <thead>
                                                            <tr>
                                                                <th class="col-lg-1"></th>
                                                                <th class="col-lg-8">Document</th>
                                                                <th class="col-lg-1">Size</th>
                                                                <th><input id="selectAllId" type="checkbox" ng-click="selectAll()" /></th>
                                                                <th>Action</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr ng-class="{'active info':l.Status==true}" id="packageid{{$index}}" ng-repeat="l in spaDoc track by $index" ng-init="CountDoc()">
                                                                <td>
                                                                    <a ng-show="$index != countDocument - 1 && $index < countDoc - 1" ng-if="l.Status" class="btn btn-xs btn-info" toggle data-toggle="tooltip" data-placement="right" title="Reorder the document" ng-click="moveDocumentDown($index)"><i class="fa fa-sort-down"></i></a>
                                                                    <a ng-show="$index != 0" ng-if="l.Status" class="btn btn-xs btn-info" toggle data-toggle="tooltip" data-placement="right" title="Reorder the document" ng-click="moveDocumentUp($index)"><i class="fa fa-sort-up"></i></a>
                                                                </td>
                                                                <td id="makeBold{{index}}">{{l.LicenseName}}</td>
                                                                <td>{{l.LicenseDocSize | formatSize}}</td>
                                                                <td><input type="checkbox" ng-click="SelectedDoc(l,$index)" ng-model="l.Status" class="checkbx" /></td>
                                                                <td>
                                                                    <a class="btn btn-xs btn-primary" href="@System.Configuration.ConfigurationManager.AppSettings["AppRoot"]/Document/View?path=@System.Configuration.ConfigurationManager.AppSettings["AppRoot"]{{l.LicenseDocPath}}" target="_blank" data-toggle="tooltip" data-placement="left" title="View"><i class="fa fa-eye"></i></a>
                                                                    <a href="@System.Configuration.ConfigurationManager.AppSettings["AppRoot"]/Document/View?path=@System.Configuration.ConfigurationManager.AppSettings["AppRoot"]{{l.LicenseDocPath}}" class="btn btn-xs btn-primary" data-toggle="tooltip" data-placement="right" title="download" download="{{l.LicenseName}}"><i class="fa fa-download"></i></a>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                    <div ng-show="loadingBar" class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                                                        Loading...Please wait...
                                                    </div>
                                                </div>
                                                <div>
                                                    <table class="table table-bordered" ng-if="!spaDoc">
                                                        <tr>
                                                            <td>
                                                                No Documents Available...
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </fieldset>
                                        </div>
                                        <div>
                                            <span ng-show="packageLoading"><img width="25px" src="~/Areas/Credentialing/img/loading.GIF" /><i>Generating Package...</i></span>
                                            <button ng-hide="loadingBar" ng-disabled="packageLoading || selectedDocument.length==0" ng-click="checkEmailFileSize()" class="btn btn-sm btn-primary" >Send Email</button>
                                            <div ng-show="LoadForDCPdf" class=" pull-right "><img src="/Content/Images/ajax-loader.gif" width="20" height="20"></div>
                                            <a ng-click="generatePackage(selectedProviders[0].ProfileID);" class="btn btn-sm btn-primary pull-right" ng-hide="loadingBar" ng-disabled="packageLoading || selectedDocument.length==0">Generate Package</a>
                    @*<a ng-click="generatePackage(selectedProviders[0].ProfileID);" class="btn btn-sm btn-primary pull-right">Generate Package</a>*@
                                        </div>
                                        <div ng-show="activeMessageDiv=='pkgGenerated'" class="alert alert-success" role="alert">
                                            <button ng-click="closeAlertMessage('')" class="close"><span>&times;</span></button>
                                            <i class="fa fa-2x fa-arrow-up"></i> {{messageDesc}}
                                        </div>
                                        <div ng-show="activeMessageDiv=='pkgGeneratedError'" class="alert alert-danger" role="alert">
                                            <button ng-click="closeAlertMessage('')" class="close"><span>&times;</span></button>
                                            <i class="fa fa-2x fa-arrow-up"></i> {{messageDesc}}
                                        </div>
                                        <div ng-show="activeMessageDiv=='LoadedSuccess'" class="alert alert-success" role="alert">
                                            <button ng-click="closeAlertMessage('')" class="close"><span>&times;</span></button>
                                            <i class="fa fa-2x fa-arrow-up"></i> {{messageDesc}}
                                        </div>
                                    </div>

                                    <div ng-show="genPackageType=='Generic'">
                                        <div class="form-style">
                                            <fieldset>
                                                <legend>
                                                    Existing Documents
                                                </legend>
                                                <div class="col-lg-12">
                                                    <table class="table table-striped">
                                                        <thead>
                                                            <tr>
                                                                <th class="col-lg-1"></th>
                                                                <th class="col-lg-9">Document</th>
                                                                <th><input type="checkbox" ng-click="selectAll()" /></th>
                                                                <th>Action</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr ng-repeat="l in spaDoc track by $index" ng-init="CountDoc()">
                                                                <td><a ng-show="$index != countDocument - 1 && $index < countDoc - 1" ng-if="l.Status" class="btn btn-xs btn-info"><i class="fa fa-sort-down" toggle data-toggle="tooltip" data-placement="right" title="Reorder the document" ng-click="moveDocumentDown($index)"></i></a> <a ng-show="$index != 0" ng-if="l.Status" class="btn btn-xs btn-info"><i class="fa fa-sort-up" toggle data-toggle="tooltip" data-placement="right" title="Reorder the document" ng-click="moveDocumentUp($index)"></i></a></td>
                                                                <td>{{l.LicenseName}}</td>
                                                                <td><input type="checkbox" ng-click="SelectedDoc(l,$index)" ng-model="l.Status" /></td>
                                                                <td>
                                                                    <a class="btn btn-xs btn-primary" data-toggle="modal" href="@System.Configuration.ConfigurationManager.AppSettings["AppRoot"]/Document/View?path=@System.Configuration.ConfigurationManager.AppSettings["AppRoot"]{{l.LicenseDocPath}}" target="_blank"><i class="fa fa-eye"></i></a>
                                                                    <a href="@System.Configuration.ConfigurationManager.AppSettings["AppRoot"]/Document/View?path=@System.Configuration.ConfigurationManager.AppSettings["AppRoot"]{{l.LicenseDocPath}}" class="btn btn-xs btn-primary" data-toggle="modal" download="{{l.LicenseName}}"><i class="fa fa-download"></i></a>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>

                                                </div>

                                            </fieldset>
                                        </div>
                                        <div>
                                            <a ng-click="generatePackage();" class="btn btn-sm btn-primary pull-right">Generate Package</a>
                                        </div>
                                    </div>

                                </fieldset>
                            </div>
                            <!--Package Generation End-->
                            <!--Form Generation Start-->
                            <div ng-show="loadFormAjax" class="progress col-lg-12" ng-cloak>
                                <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                                    Loading...Please wait...
                                </div>
                            </div>
                            <div class="form-style" ng-show="generationType=='FormGeneration'">
                                <div ng-show="loadFormAjax" class="progress col-lg-12" ng-cloak>
                                    <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                                        Loading...Please wait...
                                    </div>
                                </div>
                                <fieldset ng-disabled="packageLoading">
                                    <legend>
                                        Form Generation
                                    </legend>
                                    <div class="col-lg-12 pull-left" style="padding-left:0px;">
                                        <div class="col-lg-10 pull-left" style="padding-left:0px; margin-left:0px;">
                                            @if (System.Configuration.ConfigurationManager.AppSettings["PlanformPayer"] == "false")
                                            { 
                                            <div class="col-lg-5 pull-left" style="padding-left:0px;">
                                                <label class=" control-label">
                                                    Select Payer
                                                </label>
                                                <input type="text" class="form-control input-sm" placeholder="Select Payer" name="PlanPdfNamePayer" ng-model="tempObject.seletedPDFPayerName" ng-click="searchCumDropDownforSelectPayer('ForTypePlanPayer');tempObject.PlanPdfNamePayer=''" data-searchdropdown="searchdropdown" />
                                                <div class="ProviderTypeSelectAutoList1 popover fade bottom in" role="tooltip" id="ForTypePlanPayer" style=" margin-left: 0px; margin-top: 55px; ">
                                                    <table class="pull-left table table-striped table-bordered table-hover table-condensed">
                                                        <tbody>
                                                            <tr ng-repeat="payer in  Payers = ( NewpdfTemplateList   | unique: 'Payer'  | filter:tempObject.seletedPDFPayerName) track by $index" ng-click="addIntoTypePdfDropDown1(payer)" class="pointer">
                                                                <td>{{payer.Payer}}</td>
                                                            </tr>
                                                            <tr ng-if="Payers.length == 0">
                                                                <td>Payer not found..... </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                            <div class="col-lg-5">
                                                <label class="control-label">Select Region</label>
                                                <input type="text" class="form-control input-sm" placeholder="Select Region" name="PlanPdfNameState" ng-model="tempObject.seletedPDFStateName" ng-click="searchCumDropDownforSelectState('ForTypePlanState');tempObject.PlanPdfNameState=''" data-searchdropdown="searchdropdown" />
                                                <div class="ProviderTypeSelectAutoList1 popover fade bottom in" role="tooltip" id="ForTypePlanState" style="margin-top:55px;">
                                                    <table class="table table-striped table-bordered table-hover table-condensed">
                                                        <tbody>
                                                            <tr ng-repeat="region in Regions = ( NewpdfTemplateList  | unique: 'Region' | filter : tempObject.seletedPDFStateName) track by $index" ng-click="addIntoTypePdfDropDown2(region)" class="pointer">
                                                                <td>{{region.Region}}</td>
                                                            </tr>
                                                            <tr ng-if="Regions.length == 0">
                                                                <td>Region not found..... </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                            }
                                        </div>
                                        <a ng-click="generateForm();" ng-disabled="packageLoading || selectedForms.length==0" class="btn btn-sm btn-primary pull-right">Generate Form</a>
                                    </div>
                                    <div class="clearfix"></div><br />
                                    <div>
                                        <table class="table table-bordered table-hover table-condensed">
                                            <thead>
                                                <tr>
                                                    <th>Name</th>
                                                    <th>Action<br />@*<input type="checkbox" ng-click="selectAllForms()" name="select">*@</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-class="{'active info':p.IsCkecked==true}" ng-repeat="p in NewpdfTemplateList">
                                                    <td class="col-lg-10">{{p.Name}}</td>
                                                    <td class="col-lg-2"><input type="checkbox" ng-click="SelectForms(p,$index)" ng-model="p.IsCkecked" name="select">&nbsp;&nbsp;<span ng-show="p.IsLoading" class="fa fa-check text-success"></span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </fieldset>
                                <div>
                                    <span ng-show="packageLoading"><img width="25" src="~/Areas/Credentialing/img/loading.GIF" /><i>Generating Form...</i></span>
                                   <a ng-click="generateForm();" ng-disabled="packageLoading || selectedForms.length==0" class="btn btn-sm btn-primary pull-right">Generate Form</a>
                                </div>
                                <div ng-show="activeMessageDiv=='formGenerated'" class="alert alert-success" role="alert">
                                    <button ng-click="closeAlertMessage('')" class="close"><span>&times;</span></button>
                                    <i class="fa fa-2x fa-arrow-up"></i> {{messageDesc}}
                                </div>
                                <div ng-show="activeMessageDiv=='formGeneratedError'" class="alert alert-danger" role="alert">
                                    <button ng-click="closeAlertMessage('')" class="close"><span>&times;</span></button>
                                    <i class="fa fa-2x fa-arrow-up"></i> {{messageDesc}}
                                </div>
                            </div>
                            <!--Form Generation End-->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="panel panel-default small" ng-show="showFormDiv">
            <div class="panel-heading">
                Generated Forms
                <button class="pull-right btn btn-xs" ng-click="SearchProviderPanelToggle('SearchProviderResultPanel3');" ng-disabled="packageLoading" toggle data-toggle="tooltip" data-placement="top" title="Expand/Collapse"><i class="fa fa-th-list"></i></button>

            </div>
            <div role="tabpanel" class="panel-body">
                <div id="SearchProviderResultPanel3" class="panel-body closePanel container-outer col-lg-12">
                    <table class="table table-bordered table-condensed container-inner">
                        <thead>
                            <tr>
                                <th>Providers</th>
                                <th ng-repeat="file in createdForms track by $index">
                               {{file.FileName}}
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="obj in showGeneratedForm track by $index">
                                <td>
                                    {{obj.FirstName}} {{obj.LastName}}
                                </td>
                                <td ng-repeat="filePath in obj.forms  track by $index">
                                    <a target="_blank" href="@System.Configuration.ConfigurationManager.AppSettings["AppRoot"]{{filePath}}"><i class="fa fa-file"></i></a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div id="packagetracker" class="tab-pane fade">
        <div class="panel panel-default small">
            <div class="panel-heading">
                <button class="pull-right btn btn-xs" ng-click="closeTracker()" toggle data-toggle="tooltip" data-placement="top" title="Close"><i class="fa fa-times"></i></button>
                <div>Package Tracker</div>
            </div>
            <div role="tabpanel" class="panel-body closePanel">
                <div class="col-md-12">
                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane active">
                            <div>
                                <!---Provider partial starts here-->
                    @Html.Partial("~/Areas/Credentialing/Views/Auditing/_PackageGenerationTracker.cshtml")
                                <!---Provider partial ends here-->
                    @*<div ng-show="activeMessageDiv=='noProviderDetails'" class="alert alert-danger" role="alert">
                                        <button ng-click="closeAlertMessage('')" class="close"><span>&times;</span></button>
                                        <i class="fa fa-2x fa-arrow-up"></i> {{messageDesc}}
                                    </div>*@
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

</div>
<div>
    <div class="modal fade" id="warningmodal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Warning!!!!</h4>
                </div>
                <div class="modal-body">
                    <b>
                        The Emails Sent from here are not part of your Credentialing Process...<br />
                        Do you want to Continue?
                    </b>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" ng-click="GenerateEmailPopUp();EditCancle();" data-dismiss="modal" data-toggle="modal" href="#composeMail">Continue</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="emailattachmentsizewarningmodal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Warning!!!!</h4>
                </div>
                <div class="modal-body">
                    <b>
                        The Documents Selected by You Exceeded the Email Attachments Size (15 MB) <br />
                        Kindly Remove Few Documents

                    </b>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Done</button>
                    @*<button type="button" class="btn btn-primary" ng-click="GenerateEmailPopUp();EditCancle();" data-dismiss="modal" data-toggle="modal" href="#composeMail">Continue</button>*@
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="composeMail" tabindex="-1" role="dialog" aria-labelledby="largeModal" aria-hidden="true" my-modal>
        <div class="modal-dialog" style="width:90%;">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true" data-toggle="tooltip" data-placement="right" data-original-title="Close">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Compose Mail</h4>
                </div>
                <div class="modal-body">
                    <div class="container-fluid">
                        <form id="newEmailForm">
                            <div class="col-lg-12 zero-padding-left-right-div ng-scope">
                    @*@Html.HiddenFor(model => model.EmailServiceID, new { ng_value = "tempObject.EmailServiceID" })*@
                    @Html.HiddenFor(model => model.StatusType, new { ng_value = "1" })
                                <div class="col-md-3 form-group">
                                    <label class="control-label small">Use Existing Template</label>
                                    <div class="radio" ng-init="tempObject.SaveAsTemplateYesNoOption = 2">
                    @foreach (var value in Enum.GetValues(typeof(AHC.CD.Entities.MasterData.Enums.YesNoOption)))
                                        {
                                            <label class="radio-inline">
                    @Html.RadioButtonFor(model => model.SaveAsTemplateYesNoOption, (int)value, new { data_ng_model = "tempObject.SaveAsTemplateYesNoOption", data_ng_click = "changeYesNoOption(" + (int)value + ")" }) @value.ToString()
                                            </label>
                                        }
                                    </div>
                                </div>
                                <div class="col-lg-4 form-group pull-right" ng-if="tempObject.SaveAsTemplateYesNoOption == 1">
                                    <label class="control-label small">Select Template</label>
                                    <input class="form-control input-sm" id="template" name="template" ng-model="tempObject.Title" data-searchdropdown="searchdropdown" ng-focus="searchCumDropDown('templatelist')" placeholder="select Template" data-val="true" data-val-required="Please select a template" />
                                    <span class="field-validation-valid" data-valmsg-for="template" data-valmsg-replace="true"></span>
                                    <input type="hidden" data-ng-model="tempObject.EmailTemplateID" id="EmailTemplateID" name="EmailTemplateID" value="{{tempObject.EmailTemplateID}}" />
                                    <div class="ProviderTypeSelectAutoList popover fade bottom in" role="tooltip" style="margin-top: 55px;" id="templatelist">
                                        <table class="table table-striped table-bordered table-hover table-condensed">
                                            <tbody>
                                                <tr ng-repeat="type in ftemplates = (templates | filter:tempObject.Title) track by $index" ng-click="hideDiv();selectTemplate(type)" class="pointer">
                                                    <td>{{type.Title}}</td>
                                                </tr>
                                                <tr ng-if="templates.length == 0">
                                                    <td>No data..... </td>
                                                </tr>
                                                <tr ng-if="templates.length > 0 && ftemplates.length == 0">
                                                    <td>Template not found..... </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                    @*<div class="col-lg-12 form-group">
                                    <label class="control-label small">To *</label>
                                    @Html.TextBoxFor(model => model.To, new { @class = "form-control input-sm", data_ng_model = "tempObject.To", @id = "torecepient" })
                                    <p ng-if="errmsgforTo" style="color:red">Invalid Email...</p>
                                    @Html.ValidationMessageFor(model => model.To, "", new { @class = "text-danger" })
                                </div>
                                <div class="col-lg-6 form-group">
                                    <label class="control-label small">Cc</label>
                                    @Html.TextBoxFor(model => model.CC, new { @class = "form-control input-sm", data_ng_model = "tempObject.CC", id = "ccrecepient" })
                                    @Html.ValidationMessageFor(model => model.CC, "", new { @class = "text-danger" })
                                    <p ng-if="errmsgforCC" style="color:red">Invalid Email...</p>
                                </div>
                                <div class="col-lg-6 form-group">
                                    <label class="control-label small">Bcc</label>
                                    @Html.TextBoxFor(model => model.BCC, new { @class = "form-control input-sm", data_ng_model = "tempObject.BCC", id = "bccrecepient" })
                                    @Html.ValidationMessageFor(model => model.BCC, "", new { @class = "text-danger" })
                                    <p ng-if="errmsgforBCC" style="color:red">Invalid Email...</p>
                                </div>*@

                                <div class="col-lg-12 form-group">
                                    <label class="control-label small">To *</label>
                                    <div class="ui-widget">
                                        <input name="To" class="form-control col-lg-10" id="tags" ng-model="emailsfill" ng-change="emailsAutoFill()" />
                                        <p ng-if="errmsgforTo" style="color:red">Invalid Email...</p>
                                        <p ng-if="errmsg" style="color:red">Enter atleast one Email Id...</p>
                                    </div>
                                </div>
                                <div class="col-lg-6 form-group">
                                    <label class="control-label small">Cc</label>
                                    <div class="ui-widget">
                                        <input name="CC" class="form-control col-lg-10" id="tagsCC" ng-model="ccfill" ng-change="emailsAutoFill()" />
                                        <p ng-if="errmsgforCC" style="color:red">Invalid Email...</p>
                                    </div>

                                </div>
                                <div class="col-lg-6 form-group">
                                    <label class="control-label small">Bcc</label>
                                    <div class="ui-widget">
                                        <input name="BCC" class="form-control col-lg-10" id="tagsBCC" ng-model="bccfill" ng-change="emailsAutoFill()" />
                                        <p ng-if="errmsgforBCC" style="color:red">Invalid Email...</p>
                                    </div>

                                </div>

                                <div class="clearfix"></div>
                                <div class="form-group col-md-12">
                                    <label class="control-label small">Subject *</label>
                                    <div>
                    @Html.TextBoxFor(model => model.Subject, new { @class = "form-control input-sm", data_ng_model = "tempObject.Subject" })
                    @Html.ValidationMessageFor(model => model.Subject, "Please provide details for 'Subject' field", new { @class = "text-danger" })
                                    </div>
                                </div>

                                <input name="EmailAttachments[{{$index}}].AttachmentServerPath" hidden ng-repeat="Files in fileList track by $index" value="{{Files.File[0].relativePath}}" />
                                <input name="EmailAttachments[{{$index}}].AttachmentRelativePath" hidden ng-repeat="Files in fileList track by $index" value="{{Files.File[0].path}}" />
                                <div class="clearfix"></div>
                                <div class="form-group col-md-12">
                                    <div class="col-lg-12 zero-padding-left-right-div">
                                        <label class="control-label small">Attached Package(s)&nbsp; &nbsp;&nbsp;</label>
                                        <a ng-repeat="l in selectedDocument" href="@System.Configuration.ConfigurationManager.AppSettings["AppRoot"]{{l.LicenseDocPath}}" target="_blank" data-toggle="tooltip" data-placement="top" title="{{l.LicenseName}}"><i class="fa fa-file">&nbsp;&nbsp;</i></a>
                                    </div>
                                    <br />
                                    <br />
                    @*<div class="col-lg-12 zero-padding-left-right-div">
                                            <label class="control-label small">Add Attachment</label>
                                            <input type='file' id='file' name='file' multiple onchange="angular.element(this).scope().setFile(this)" style=" width:0; height:0;" />
                                            <input type="button" class="btn btn-xs btn-default" id="btn-upload" ng-click="addingDocument()" tooltip data-toggle="tooltip" data-placement="top" title="Add Document" value="Attach File..." />
                                            &nbsp;&nbsp;&nbsp;
                                            <span class="badge">Files Size should be less than 2MB!</span>
                                        </div>
                                        <br />
                                        <div class="col-lg-6" style="padding-top: 5px; " ng-if="fileList.length>0">
                                            <div class="label lblcss" ng-repeat="file in fileList track by $index" style="box-sizing: border-box; overflow: hidden; float: left; width: 100%">
                                                <a class="col-lg-10 wraptext" style="text-align: -webkit-auto" target=" _blank" href="@System.Configuration.ConfigurationManager.AppSettings["AppRoot"]{{file.File[0].path}}">
                                                    <span class=""><span class="wrap-words">{{file.File[0].file.name}}</span></span>
                                                </a>
                                                <span class="progress-wrapper" ng-show="current[$index]<100"></span>
                                                &nbsp; &nbsp; &nbsp;
                                                <i class=" fa fa-close pointer pull-right" style="color:black" tooltip data-toggle="tooltip" data-placement="top" title="Remove" ng-click="removeFile($index,file)"></i>
                                                <img src="~/Content/Images/ajax-loader.gif" ng-show="current[$index]<100" style="width:13px" />
                                                <br />
                                            </div>
                                        </div>*@
                                </div>
                                <div class="col-md-12 form-group">
                                    <label class="control-label small">Body</label>
                                    <wysiwyg textarea-id="wysiwygBody" textarea-class="form-control" textarea-height="400px" textarea-style="width:100%;resize: none;overflow-y: scroll;" textarea-name="wysiwygBody" textarea-required data-ng-model="tempObject.Body" enable-bootstrap-title="true"></wysiwyg>

                    @Html.HiddenFor(model => model.Body, new { @class = "form-control input-sm", ng_value = "tempObject.Body" })
                    @Html.ValidationMessageFor(model => model.Body, "Please provide details for 'Body' field", new { @class = "text-danger" })
                                                                                                        
                                </div>
                                <input type="hidden" value="2" name="IsRecurrenceEnabledYesNoOption" ng-model="tempObject.IsRecurrenceEnabledYesNoOption">
                                @*<div class="col-md-3 form-group" style="width:20%">
                                    <label class="control-label small">Schedule Recurrence *</label>
                                    <div class="radio">
                    @foreach (var value in Enum.GetValues(typeof(AHC.CD.Entities.MasterData.Enums.YesNoOption)))
                                        {
                                            <label class="radio-inline">
                    @Html.RadioButtonFor(model => model.IsRecurrenceEnabledYesNoOption, (int)value, new { data_ng_model = "tempObject.IsRecurrenceEnabledYesNoOption", data_ng_click = "" }) @value.ToString()
                                            </label>
                                        }
                                    </div>
                    @Html.ValidationMessageFor(model => model.IsRecurrenceEnabledYesNoOption, "", new { @class = "text-danger" })
                                </div>*@

                                <div class="col-md-5 form-group" ng-if="tempObject.IsRecurrenceEnabledYesNoOption==1">
                                    <label class="control-label small">Recurrence Type *</label>
                                    <div class="radio">
                    @foreach (var value in Enum.GetValues(typeof(AHC.CD.Entities.MasterData.Enums.RecurrenceIntervalType)))
                                        {
                                            <label class="radio-inline">
                    @Html.RadioButtonFor(model => model.RecurrenceIntervalTypeCategory, (int)value, new { data_ng_model = "tempObject.RecurrenceIntervalTypeCategory", data_ng_click = "tempObject.IntervalFactor=null" }) @value.ToString()
                                            </label>
                                        }
                                        <br />
                    @Html.ValidationMessageFor(model => model.RecurrenceIntervalTypeCategory, "", new { @class = "text-danger" })
                                        <br />
                                        <br />
                                        <span ng-if="tempObject.RecurrenceIntervalTypeCategory != 6 && tempObject.RecurrenceIntervalTypeCategory != 4">@Html.TextBoxFor(model => model.IntervalFactor, new { @type = "number", @class = "form-control input-sm col-lg-3", data_ng_model = "tempObject.IntervalFactor", data_ng_init = 1, @placeholder = "Enter Interval" })</span>
                    @Html.ValidationMessageFor(model => model.IntervalFactor, "", new { @class = "text-danger" })
                                        <span ng-if="tempObject.RecurrenceIntervalTypeCategory == 6 && tempObject.RecurrenceIntervalTypeCategory != 4">@Html.TextBoxFor(model => model.DateForCustomRecurrence, new { data_val_date = "Please enter date in mm/dd/yyyy format.", data_date_format = "MM/dd/yyyy", data_bs_datepicker = "bs-datepicker", @class = "form-control input-sm  col-lg-3", data_ng_model = "tempObject.DateForCustomRecurrence", placeholder = "mm/dd/yyyy" })</span>
                    @Html.ValidationMessageFor(model => model.DateForCustomRecurrence, "", new { @class = "text-danger" })
                                    </div>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="col-md-4 form-group" ng-if="tempObject.IsRecurrenceEnabledYesNoOption==1 && tempObject.RecurrenceIntervalTypeCategory != '6'" style="width:38%">
                    @*<div class="col-lg-6 form-group">
                                            <label class="control-label small" style="margin-bottom:20px;">From</label>
                                            @Html.TextBoxFor(model => model.FromDate, new { data_val_date = "Please enter date in mm/dd/yyyy format.", data_date_format = "MM/dd/yyyy", data_bs_datepicker = "bs-datepicker", @class = "form-control input-sm", data_ng_model = "tempObject.FromDate", placeholder = "mm/dd/yyyy" })
                                            @Html.ValidationMessageFor(model => model.FromDate, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="col-lg-6 form-group">
                                            <label class="control-label small" style="margin-bottom:20px;">To</label>
                                            @Html.TextBoxFor(model => model.ToDate, new { data_val_date = "Please enter date in mm/dd/yyyy format.", data_date_format = "MM/dd/yyyy", data_bs_datepicker = "bs-datepicker", @class = "form-control input-sm", data_ng_model = "tempObject.ToDate", placeholder = "mm/dd/yyyy" })
                                            @Html.ValidationMessageFor(model => model.ToDate, "", new { @class = "text-danger" })
                                        </div>*@
                                    <div class="col-lg-6 form-group">
                                        <label class="control-label small" style="margin-bottom:20px;">From</label>
                    @Html.TextBoxFor(model => model.FromDate, new { data_val_date = "Please enter date in mm/dd/yyyy format.", data_date_format = "MM/dd/yyyy", data_bs_datepicker = "bs-datepicker", @class = "form-control input-sm", data_ng_model = "tempObject.FromDate", placeholder = "mm/dd/yyyy" })
                    @Html.ValidationMessageFor(model => model.FromDate, "", new { @class = "text-danger" })
                                    </div>
                                    <div class="col-lg-6 form-group">
                                        <label class="control-label small" style="margin-bottom:20px;">To</label>
                    @Html.TextBoxFor(model => model.ToDate, new { data_val_date = "Please enter date in mm/dd/yyyy format.", data_date_format = "MM/dd/yyyy", data_bs_datepicker = "bs-datepicker", @class = "form-control input-sm", data_ng_model = "tempObject.ToDate", placeholder = "mm/dd/yyyy" })
                    @Html.ValidationMessageFor(model => model.ToDate, "", new { @class = "text-danger" })
                                    </div>
                                    <p style="padding-left: 10px; color: red" ng-if="errmsgforToDate">ToDate Should not be less than FromDate</p>

                                </div>
                                <div class="col-md-12 form-group">
                                    <button type="button" class="btn btn-warning btn-sm" ng-click="EditCancle(tempObject);" data-dismiss="modal">Cancel</button>
                                    <button id="saveButton" type="submit" ng-click="AddOrSaveEmail('newEmailForm',selectedProviders[0].ProfileID)" class="btn btn-primary btn-sm pull-right">Send</button>
                                </div>
                                <div class="clearfix"></div>
                                <div ng-show="activeMessageDiv=='warningdiv'" class="alert alert-info" role="alert">
                                    <button ng-click="closeAlertMessage('')" class="close"><span>&times;</span></button>
                                    <strong>Please wait...</strong> {{messageDesc}}
                                </div>
                                <div ng-show="activeMessageDiv=='FilesizeExceedError'" class="alert alert-danger" role="alert">
                                    <button ng-click="closeAlertMessage('')" class="close"><span>&times;</span></button>
                                    <i class="fa fa-2x fa-arrow-up"></i> {{messageDesc}}
                                </div>
                            </div>
                    </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

   
</div>
